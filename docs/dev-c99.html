<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.15">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Dmytro Zharii RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Dmytro Zharii Atom Feed">
<link rel="stylesheet" href="/clippy.js/clippy.css">
<script src="/clippy.js/jquery-3.6.0.min.js"></script>
<script src="/clippy.js/clippy.js"></script><title data-react-helmet="true">dev-c99 | Dmytro Zharii</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://blog.zharii.com/docs/dev-c99"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="dev-c99 | Dmytro Zharii"><meta data-react-helmet="true" name="description" content="Date: 2025-09-03"><meta data-react-helmet="true" property="og:description" content="Date: 2025-09-03"><link data-react-helmet="true" rel="icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://blog.zharii.com/docs/dev-c99"><link data-react-helmet="true" rel="alternate" href="https://blog.zharii.com/docs/dev-c99" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://blog.zharii.com/docs/dev-c99" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.73058418.css">
<link rel="preload" href="/assets/js/runtime~main.fb6bfe02.js" as="script">
<link rel="preload" href="/assets/js/main.df44fa31.js" as="script">
</head>
<body data-theme="light">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_t6R9">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/favicon.ico" alt="My Site Logo" class="themedImage_ixIS themedImage--light_oE8D"><img src="/img/favicon.ico" alt="My Site Logo" class="themedImage_ixIS themedImage--dark_Pcj1"></div><b class="navbar__title">Home</b></a><a class="navbar__item navbar__link navbar__link--active" href="/docs/intro">Personal Wiki</a><a class="navbar__item navbar__link" href="/blog">Blog</a><a href="https://blog.zharii.com/blog/rss.xml" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">[RSS]</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/dzharii/dzharii.github.io" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_ENIg"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="toggle_BOl1 toggle_D9iD toggleDisabled_z3Bs"><div class="toggleTrack_RGsh" role="button" tabindex="-1"><div class="toggleTrackCheck_G703"><span class="toggleIcon_YjN9">üåú</span></div><div class="toggleTrackX_bXpe"><span class="toggleIcon_YjN9">üåû</span></div><div class="toggleTrackThumb_Hv7O"></div></div><input type="checkbox" class="toggleScreenReader_8nUd" aria-label="Switch between dark and light mode"></div><div class="dsla-search-wrapper"><div class="dsla-search-field" data-tags="default,docs-default-current"></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_EQ68"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_gkLb" type="button"></button><aside class="theme-doc-sidebar-container docSidebarContainer_unvu"><div class="sidebar_HVo4"><nav class="menu thin-scrollbar menu_Qsok"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/intro">intro</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/azure-and-aad-articles">azure-and-aad-articles</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/bicycling-inbox">bicycling-inbox</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/big-tech-folks">big-tech-folks</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/bookmark-my-GPT-prompts">ü§ñ Bookmarks: My GPT/AI Prompts</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/bookmarklets">üìú BookmarkLETS</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/bookmarks">üìå Bookmarks</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/c99-vibecoded-test-report">c99-vibecoded-test-report.md</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/cheatsheets">Cheat-sheets</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/design-assets">design-assets</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/dev-bicep">dev-bicep</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/dev-c99-github-banned-h">dev-c99-github-banned-h</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/dev-c99-libraries">dev-c99-libraries</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/dev-c99-recreational-programming">dev-c99-recreational-programming</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/dev-c99-video-content-creators">dev-c99-video-content-creators</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/docs/dev-c99">dev-c99</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/dev-cpp-snippets">dev-cpp-snippets</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/dev-cpp">dev-cpp</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/dev-csharp">dev-csharp</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/dev-design-and-process">dev-design-and-process</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/dev-docfx">dev-docfx</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/dev-emacs">dev-emacs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/dev-ide-visualstudio">dev-ide-visualstudio</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/dev-javascript-snippets-dom">dev-javascript-snippets-dom</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/dev-linux">dev-linux</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/dev-lua">dev-lua</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/dev-oculus-quest2-inbox">dev-oculus-quest2-inbox</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/dev-powershell">dev-powershell</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/dev-projects-backend">dev-projects-backend</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/dev-retro-8bit">dev-retro-8bit</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/dev-scala-spark-synapse-bigdata">dev-scala-spark-synapse-bigdata</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/dev-stable-diffusion-cpu">dev-stable-diffusion-cpu</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/dev-testing-endpoints">dev-testing-endpoints</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/dev-webapi">dev-webapi</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/dev-writing">‚úèÔ∏è dev-writing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/ffmpeg-inbox">ffmpeg-inbox</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/ffmpeg-recipes">ffmpeg-recipes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/ffmpeg-snippets">ffmpeg-snippets</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/fun-meme-cry-like-a-man">fun-meme-cry-like-a-man</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/fun-rubik-cube">Rubik&#x27;s Cube</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/fun-web-comics">fun-web-comics</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/fun-yodel">fun-yodel</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/image-processing">Image Processing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/knowledge-management">Knowledge Management</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/linux-odroid-cli-90s-project">linux-odroid-cli-90s-project</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/markdown-tools">markdown-tools</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/math">math and stats</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/network">network</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/podcasts">Podcasts</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/prep-resources">prep-resources</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/psy-2022-07-28-BoundariesMeeting">psy-2022-07-28-BoundariesMeeting</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/psy-ADHD">Mental Health / ADHD</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/psy-burnout">Psy-Burnout (mental wellbeing)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/psy-gaslighting">psy-gaslighting</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/psy-Nonviolent Communication">psy-Nonviolent Communication</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/psy-Unschedule">psy-Unschedule</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/public-apis">public-apis</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/radiation">‚ò¢ Radiation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/retro-win3.11">retro-win3.11</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/retro-www-buttons">retro-www-buttons</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/seattle">seattle</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/security-articles">security-articles</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/self-hosted-software">self-hosted-software</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/software2025">Software 2025</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/testing-distributed-systems">testing-distributed-systems</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/testing">testing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/tools-mindmaps">tools-mindmaps</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/tools-WireGuard">tools-WireGuard</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/workplace-articles">workplace-articles</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/workplace-interview-prep">workplace-interview-prep</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/workplace-levels-and-layoffs">workplace-levels-and-layoffs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/workplace-tech-companies">Seattle Tech Companies and Their Career Pages</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_aX2u" href="/docs/a-watch-reading-list/my-watch-reading-list-now">a-watch-reading-list</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_aX2u" href="/docs/aww-articles/2021-10-23-Moving-faster">aww-articles</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_aX2u" href="/docs/chatGPT/2022-12-14-5-Harmless-Ways-Software-Developers-Can-Have-Fun-at-Work.md">chatGPT</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_aX2u" href="/docs/dev-good-GPT-prompts/2023-06-19-CPP-17-describe-new-language-features">dev-good-GPT-prompts</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_aX2u" href="/docs/fun/2023-02-16-Seattle-Link-Pictograms">fun</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_aX2u" href="/docs/gpt4-generated-content/2023-05-03-apache-spark-ref">gpt4-generated-content</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_aX2u" href="/docs/resources/2023-02-12-Slides--Apache-Spark-Core-Deep-Dive-Proper-Optimization">resources</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_aX2u" href="/docs/psy-saved-articles/a-programmers-guide-to-stress">psy-saved-articles</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_aX2u" href="/docs/walking-seatle-places/0000-00-00-GPT-Prompts">walking-seatle-places</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_aX2u" href="/docs/llm-experiments/2025-06-27/2025-06-27-success-software-2025-list-from-all-link-dump-post">llm-experiments</a></div></li></ul></nav></div></aside><main class="docMainContainer_U6YS"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_GrMM"><div class="docItemContainer_IRuv"><article><div class="tocCollapsible_GIoR theme-doc-toc-mobile tocMobile_jv3u"><button type="button" class="clean-btn tocCollapsibleButton_PfAB">On this page</button></div><div class="theme-doc-markdown markdown"><h1>dev-c99</h1><p>Date: 2025-09-03</p><p>[<!-- -->[<em>TOC</em>]<!-- -->]</p><h2 class="anchor anchorWithStickyNavbar_DXrL" id="compilation-and-warnings">Compilation and warnings<a class="hash-link" href="#compilation-and-warnings" title="Direct link to heading">‚Äã</a></h2><div class="codeBlockContainer_aLwb language-sh theme-code-block"><div class="codeBlockContent_INfL sh"><pre tabindex="0" class="prism-code language-sh codeBlock_HyjA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_v42P"><span class="token-line" style="color:#393A34"><span class="token plain"># Clang on Unix-like systems</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">clang -std=c99 -Wall -Wextra -Werror -O2 -g main.c -o main</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_n_1r clean-btn">Copy</button></div></div><p>This compiles main.c as C99 with Clang, enables many warnings (-Wall), adds extra diagnostics (-Wextra), and promotes all warnings to errors (-Werror). -O2 optimizes, -g keeps symbols for debugging, and -o main names the output.
<a href="https://clang.llvm.org/docs/CommandGuide/clang.html" target="_blank" rel="noopener noreferrer">Clang Command Guide</a></p><div class="codeBlockContainer_aLwb language-sh theme-code-block"><div class="codeBlockContent_INfL sh"><pre tabindex="0" class="prism-code language-sh codeBlock_HyjA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_v42P"><span class="token-line" style="color:#393A34"><span class="token plain"># GCC on Unix-like systems</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">gcc -std=c99 -Wall -Wextra -Werror -O2 -g main.c -o main</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_n_1r clean-btn">Copy</button></div></div><p>This compiles main.c as C99 with GCC. -Wall, -Wextra, and -Werror control diagnostics; -O2 and -g set optimization and debug info; -o names the output.
<a href="https://gcc.gnu.org/onlinedocs/gcc-14.1.0/gcc/Warning-Options.html" target="_blank" rel="noopener noreferrer">GCC Warning Options</a></p><div class="codeBlockContainer_aLwb language-bat theme-code-block"><div class="codeBlockContent_INfL bat"><pre tabindex="0" class="prism-code language-bat codeBlock_HyjA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_v42P"><span class="token-line" style="color:#393A34"><span class="token plain">:: MSVC cl.exe on Windows Developer Command Prompt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">:: Note: cl.exe does not have a C99 mode switch. It can compile C code, but full C99 conformance is not guaranteed.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cl /TC /W4 /WX /Zi /O2 main.c /Fe:main.exe</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_n_1r clean-btn">Copy</button></div></div><p>This compiles main.c as C with MSVC. /TC forces C mode, /W4 is a high warning level, /WX treats warnings as errors, /Zi emits PDB debug info, /O2 optimizes, and /Fe names the exe. For strict C99 needs on Windows, use Clang or GCC toolchains.
<a href="https://learn.microsoft.com/en-us/cpp/build/reference/compiler-option-warning-level?view=msvc-170" target="_blank" rel="noopener noreferrer">MSVC Warning Levels</a>
<a href="https://learn.microsoft.com/en-us/cpp/c-language/c-language-reference?view=msvc-170" target="_blank" rel="noopener noreferrer">MSVC C Language Conformance Notes</a></p><div class="codeBlockContainer_aLwb language-bat theme-code-block"><div class="codeBlockContent_INfL bat"><pre tabindex="0" class="prism-code language-bat codeBlock_HyjA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_v42P"><span class="token-line" style="color:#393A34"><span class="token plain">:: Clang-cl on Windows (MSVC-compatible driver, still C99 frontend)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">clang-cl /std:c99 /W4 /WX /Zi /O2 main.c /Fe:main.exe</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_n_1r clean-btn">Copy</button></div></div><p>This uses Clang on Windows with MSVC-style flags, targeting C99. You get Clang diagnostics and codegen while integrating with MSVC-style tools and linkers.
<a href="https://clang.llvm.org/docs/UsersManual.html#clang-cl" target="_blank" rel="noopener noreferrer">Clang-cl User Guide</a></p><div class="codeBlockContainer_aLwb language-sh theme-code-block"><div class="codeBlockContent_INfL sh"><pre tabindex="0" class="prism-code language-sh codeBlock_HyjA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_v42P"><span class="token-line" style="color:#393A34"><span class="token plain"># Tiny C Compiler (TCC)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># TCC is a C compiler; it does not compile C++ and has a smaller warning set.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tcc -std=c99 -Wall -Werror main.c -o main</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_n_1r clean-btn">Copy</button></div></div><p>This compiles main.c as C99 with TCC. -Wall enables its warnings and -Werror treats them as errors. TCC does not support -Wextra.
<a href="https://bellard.org/tcc/tcc-doc.html" target="_blank" rel="noopener noreferrer">Tiny C Compiler Reference</a></p><h2 class="anchor anchorWithStickyNavbar_DXrL" id="video">Video<a class="hash-link" href="#video" title="Direct link to heading">‚Äã</a></h2><p>2025-08-01 <a href="https://www.youtube.com/watch?v=443UNeGrFoM" target="_blank" rel="noopener noreferrer">How I program C - YouTube</a> { <a href="http://www.youtube.com" target="_blank" rel="noopener noreferrer">www.youtube.com</a> }</p><blockquote><p><img alt="image-20250801102620753" src="/assets/images/image-20250801102620753-4ade58a55cf7141941b8238f94c49bfe.png" width="1374" height="861">
<strong>Speaker</strong> Eskil Steenberg ‚Äì game-engine and tools developer (Quel Solaar)
<strong>Recording</strong> Seattle, Oct 2016 (2 h 11 m)</p><p>Key themes</p><ul><li>Results first, control later ‚Äì why explicit memory management, crashes, and compiler errors are desirable.</li><li>Minimise technology footprint ‚Äì target C89/C90, wrap every dependency, zero un-wrapped libraries.</li><li>Code is for humans ‚Äì long descriptive names, uniform naming schemes, wide functions, avoid cleverness (e.g. operator overloading).</li><li>Favour simple languages plus strong tooling ‚Äì write parsers, debuggers, doc generators yourself.</li><li>Memory mastery ‚Äì pointers as arrays, alignment and padding, struct packing, cache-friendly dynamic arrays + <code>realloc</code>, dangers of linked lists.</li><li>API design ‚Äì opaque handles (void *), start with public interface, isolate implementation, macro-assisted debug wrappers (<code>__FILE__</code>, <code>__LINE__</code>).</li><li>Build a mountain ‚Äì own your stack, keep technical debt near zero, rewrite early.</li><li>UI toolkit pattern ‚Äì single pass, stateless widgets keyed by pointer IDs; layout and hit-testing resolved internally.</li><li>Tools and snippets ‚Äì Carmack inverse-sqrt; xorshift32 PRNG; GFlags page-guarding for memory bugs; Seduce UI; Testify binary packer; Ministry of Flat un-wrapper.</li></ul><p><strong>Talk structure in order of appearance</strong></p><ul><li>Motivation and philosophy</li><li>Results vs control; garbage collection vs manual <code>free</code></li><li>Small footprint and dependency wrapping</li><li>Naming conventions and formatting policies</li><li>Crashes and compiler errors as friends</li><li>Macros: when to use, when to avoid</li><li>Deep dive: pointers, arrays, structs, alignment, packed allocations</li><li>Cache-aware data structures; <code>realloc</code> growth patterns; backwards remove</li><li>API style with opaque handles; object orientation in C</li><li>Memory-debug and binary-packing helpers using <code>__FILE__</code> <code>__LINE__</code></li><li>UI toolkit design example (Seduce)</li><li>Build-your-own-tools mindset; ‚Äúbuild a mountain‚Äù analogy</li><li>Closing resources and project links</li></ul></blockquote><p>2025-08-01 <a href="https://www.youtube.com/watch?v=xND0t1pr3KY" target="_blank" rel="noopener noreferrer">C Programming Full Course for free ‚öôÔ∏è (2025) - YouTube</a> {<a href="http://www.youtube.com%7D" target="_blank" rel="noopener noreferrer">www.youtube.com}</a></p><blockquote><p><img alt="image-20250801103430609" src="/assets/images/image-20250801103430609-b2abb6b0bd26725d6b8d4cb22ece4fb0.png" width="793" height="574"></p></blockquote><p>2025-08-02 <a href="https://www.youtube.com/watch?v=eh8zBTTgRn4" target="_blank" rel="noopener noreferrer">Go from mid-level to advanced C programmer in two hours - YouTube</a> {<a href="http://www.youtube.com%7D" target="_blank" rel="noopener noreferrer">www.youtube.com}</a></p><blockquote><p><img alt="image-20250801230639700" src="/assets/images/image-20250801230639700-85d707df773bf19104e92643156bdd7c.png" width="1182" height="924"></p></blockquote><p>2025-08-02 <a href="https://www.youtube.com/watch?v=rJrd2QMVbGM" target="_blank" rel="noopener noreferrer">C Programming and Memory Management - Full Course - YouTube</a> {<a href="http://www.youtube.com%7D" target="_blank" rel="noopener noreferrer">www.youtube.com}</a></p><blockquote><p>Interesting, &quot;Boot Dev&quot;, known for very annoying ads, also have some quality content</p><p><img alt="image-20250801230857693" src="/assets/images/image-20250801230857693-daf23da57a4b2685128f89b1e0cc4041.png" width="1228" height="706"></p></blockquote><p>2025-08-02 <a href="https://www.youtube.com/watch?v=D1bsg8wkZzo" target="_blank" rel="noopener noreferrer">I&#x27;m Building C with C without CMake - YouTube</a> {<a href="http://www.youtube.com%7D" target="_blank" rel="noopener noreferrer">www.youtube.com}</a></p><blockquote><p><img alt="image-20250801233701958" src="/assets/images/image-20250801233701958-d6423be448a620e992c10ce1cdaafae0.png" width="1207" height="687"></p></blockquote><p>2025-08-02 <a href="https://www.youtube.com/watch?v=9UIIMBqq1D4" target="_blank" rel="noopener noreferrer">Tips for C Programming - YouTube</a> {<a href="http://www.youtube.com%7D" target="_blank" rel="noopener noreferrer">www.youtube.com}</a></p><blockquote><p><img alt="image-20250802105718241" src="/assets/images/image-20250802105718241-a3f21bc10dc5867298837f7bff88c643.png" width="1235" height="705"></p></blockquote><p><strong>Topics covered</strong></p><ul><li>C in context: history, loadbearing role, perception vs practice</li><li>C versions: C89 vs C99, syntax and QoL differences</li><li>Compiler discipline: -std, -Wall, -Werror, -save-temps</li><li>Project organization: headers vs single translation unit</li><li>Debugging fundamentals: segfault model, call stacks, IDE debuggers</li><li>Memory corruption and ASan: off-by-one, red zones, -fsanitize=address</li><li>Arrays with length and capacity, bounds-checked access</li><li>Generics tradeoffs in C: per-type code, macros, codegen</li><li>Strings with explicit length, slices, avoiding standard libc pitfalls</li><li>Pointers vs indices: relocation safety, bounds checks, serialization, generational indices</li><li>Memory management by lifetime: static, scope, task; arenas for task-scoped data</li></ul><p><strong>All examples referenced</strong></p><ul><li>C89 quirks: declare locals at top, positional struct init, type sizes vary</li><li>C99 features: mixed declarations, designated initializers, stdint.h types, compound literals, // comments</li><li>Compiler flags: -std=c99, -Wall, -Werror, -save-temps, -fsanitize=address</li><li>Include behavior: literal paste, unity build via including .c files</li><li>Segfault demo: dereference NULL, debugger halts on exact line</li><li>Off-by-one bug: i &lt;= count - 1 writes 1 past end, ASan catches</li><li>Bounds-checked array: struct with length and capacity, get function</li><li>Strings with length: slice without copying, avoid strlen pitfalls</li><li>Indices not pointers: smaller references, resize-safe, serialize-friendly</li><li>Arenas: one big alloc per task, one free, faster and simpler</li></ul><p><strong>Small examples, close to the talk</strong></p><div class="codeBlockContainer_aLwb language-c theme-code-block"><div class="codeBlockContent_INfL c"><pre tabindex="0" class="prism-code language-c codeBlock_HyjA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_v42P"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// C99: declare where used, loop index scoped to loop</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> n</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> i</span><span class="token operator" style="color:#393A34">++</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">/* ... */</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_n_1r clean-btn">Copy</button></div></div><div class="codeBlockContainer_aLwb language-c theme-code-block"><div class="codeBlockContent_INfL c"><pre tabindex="0" class="prism-code language-c codeBlock_HyjA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_v42P"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// C99 designated initializer</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">typedef</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">struct</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> id</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">char</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">name</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> age</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> User</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">User u </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">name </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Ada&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">age </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">36</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// order independent</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_n_1r clean-btn">Copy</button></div></div><div class="codeBlockContainer_aLwb language-c theme-code-block"><div class="codeBlockContent_INfL c"><pre tabindex="0" class="prism-code language-c codeBlock_HyjA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_v42P"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// Fixed-width and pointer-sized integers from stdint.h</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">include</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property string" style="color:#e3116c">&lt;stdint.h&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token class-name">uint32_t</span><span class="token plain"> a </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token class-name">uintptr_t</span><span class="token plain"> pbits </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">uintptr_t</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">some_ptr</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// big enough to hold a pointer</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_n_1r clean-btn">Copy</button></div></div><div class="codeBlockContainer_aLwb language-c theme-code-block"><div class="codeBlockContent_INfL c"><pre tabindex="0" class="prism-code language-c codeBlock_HyjA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_v42P"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// Compiler discipline</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// clang -std=c99 -Wall -Werror -O2 main.c</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// clang -std=c99 -Wall -Werror -save-temps -O0 main.c</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_n_1r clean-btn">Copy</button></div></div><div class="codeBlockContainer_aLwb language-c theme-code-block"><div class="codeBlockContent_INfL c"><pre tabindex="0" class="prism-code language-c codeBlock_HyjA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_v42P"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// Unity build: single translation unit</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// main.c</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">include</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property string" style="color:#e3116c">&quot;math.c&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">include</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property string" style="color:#e3116c">&quot;strings.c&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">main</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">void</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">app_run</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// clang -std=c99 -Wall -Werror -O2 main.c</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_n_1r clean-btn">Copy</button></div></div><div class="codeBlockContainer_aLwb language-c theme-code-block"><div class="codeBlockContent_INfL c"><pre tabindex="0" class="prism-code language-c codeBlock_HyjA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_v42P"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// Segfault demo with debugger</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">p </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic">// NULL</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> x </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">p</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic">// debugger halts here with SIGSEGV</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_n_1r clean-btn">Copy</button></div></div><div class="codeBlockContainer_aLwb language-c theme-code-block"><div class="codeBlockContent_INfL c"><pre tabindex="0" class="prism-code language-c codeBlock_HyjA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_v42P"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// Off-by-one corruption; ASan will flag the write past end</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// clang -std=c99 -fsanitize=address -g oob.c -o oob</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">v </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">malloc</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">sizeof</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">int</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34">&lt;=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">9</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> i</span><span class="token operator" style="color:#393A34">++</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> v</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">i</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> i</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// OK</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">v</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">42</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                             </span><span class="token comment" style="color:#999988;font-style:italic">// ASan error: heap-buffer-overflow</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_n_1r clean-btn">Copy</button></div></div><div class="codeBlockContainer_aLwb language-c theme-code-block"><div class="codeBlockContent_INfL c"><pre tabindex="0" class="prism-code language-c codeBlock_HyjA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_v42P"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// Bounds-checked dynamic array, minimal</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">typedef</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">struct</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token class-name">size_t</span><span class="token plain"> len</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token class-name">size_t</span><span class="token plain"> cap</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> IntArray</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">static</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">inline</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">int_array_get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> IntArray </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">a</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">size_t</span><span class="token plain"> i</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">i </span><span class="token operator" style="color:#393A34">&gt;=</span><span class="token plain"> a</span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token plain">len</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">__builtin_trap</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// debug break</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> a</span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">i</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_n_1r clean-btn">Copy</button></div></div><div class="codeBlockContainer_aLwb language-c theme-code-block"><div class="codeBlockContent_INfL c"><pre tabindex="0" class="prism-code language-c codeBlock_HyjA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_v42P"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// String with explicit length and slicing</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">typedef</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">struct</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">char</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">ptr</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token class-name">size_t</span><span class="token plain"> len</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> Str</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">static</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">inline</span><span class="token plain"> Str </span><span class="token function" style="color:#d73a49">str_slice</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Str s</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">size_t</span><span class="token plain"> off</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">size_t</span><span class="token plain"> n</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">off </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> s</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">len</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">__builtin_trap</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Str</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">{</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">n </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> s</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">len </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> off</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> n </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> s</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">len </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> off</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Str</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> s</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ptr </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> off</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> n </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_n_1r clean-btn">Copy</button></div></div><div class="codeBlockContainer_aLwb language-c theme-code-block"><div class="codeBlockContent_INfL c"><pre tabindex="0" class="prism-code language-c codeBlock_HyjA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_v42P"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// Index over pointer for stable references</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">typedef</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">struct</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> id</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">/* ... */</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> User</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">typedef</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">struct</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token class-name">size_t</span><span class="token plain"> len</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token class-name">size_t</span><span class="token plain"> cap</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> User </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> UserArray</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">typedef</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">struct</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token class-name">uint32_t</span><span class="token plain"> user_index</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> Session</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// 32-bit index ref</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">static</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">inline</span><span class="token plain"> User </span><span class="token operator" style="color:#393A34">*</span><span class="token function" style="color:#d73a49">user_from_index</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">UserArray </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">ua</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">uint32_t</span><span class="token plain"> idx</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">idx </span><span class="token operator" style="color:#393A34">&gt;=</span><span class="token plain"> ua</span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token plain">len</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">__builtin_trap</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">ua</span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">idx</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_n_1r clean-btn">Copy</button></div></div><div class="codeBlockContainer_aLwb language-c theme-code-block"><div class="codeBlockContent_INfL c"><pre tabindex="0" class="prism-code language-c codeBlock_HyjA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_v42P"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// Arena allocator sketch for task lifetime</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">typedef</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">struct</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token class-name">uint8_t</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">base</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token class-name">size_t</span><span class="token plain"> used</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token class-name">size_t</span><span class="token plain"> cap</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> Arena</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token function" style="color:#d73a49">arena_alloc</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Arena </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">a</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">size_t</span><span class="token plain"> n</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">size_t</span><span class="token plain"> align</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">size_t</span><span class="token plain"> p </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">a</span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token plain">used </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">align </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">~</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">align </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">p </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> n </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> a</span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token plain">cap</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">ptr </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> a</span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token plain">base </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> p</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    a</span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token plain">used </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> p </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> n</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> ptr</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Create once per task with a single malloc; free once when task ends.</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_n_1r clean-btn">Copy</button></div></div><div class="codeBlockContainer_aLwb language-c theme-code-block"><div class="codeBlockContent_INfL c"><pre tabindex="0" class="prism-code language-c codeBlock_HyjA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_v42P"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// Compound literal + designated init to pass a struct inline</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">typedef</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">struct</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> x</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> y</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> Pt</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">draw_point</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Pt p</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">draw_point</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Pt</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">x </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">y </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">20</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_n_1r clean-btn">Copy</button></div></div><div class="codeBlockContainer_aLwb language-c theme-code-block"><div class="codeBlockContent_INfL c"><pre tabindex="0" class="prism-code language-c codeBlock_HyjA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_v42P"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// // single-line comments are valid in C99</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Use them freely for clarity.</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_n_1r clean-btn">Copy</button></div></div><blockquote><p>C is loadbearing tech. C99 removes unnecessary pain. I lock the compiler down with -Wall and -Werror. I keep builds simple with a unity build when it fits. I never chase blind crashes; I run a debugger and ASan so memory bugs surface at the line, not in production. I wrap arrays with length and bounds, and I carry string lengths so slices are cheap and safe. I store indices instead of pointers so my data survives resizes and serializes cleanly. I allocate by lifetime and free by lifetime with arenas. With these habits, C turns from scary to sharp.</p></blockquote><p>2025-09-28 <a href="https://www.youtube.com/watch?v=lLv1s7rKeCM" target="_blank" rel="noopener noreferrer">Programming in Modern C with a Sneak Peek into C23 - Dawid Zalewski - ACCU 2023 - YouTube</a> { <a href="http://www.youtube.com" target="_blank" rel="noopener noreferrer">www.youtube.com</a> }</p><blockquote><p><img alt="image-20250928150824455" src="/assets/images/image-20250928150824455-81d64f12e73b9510dc045f0012f95ac9.png" width="1396" height="741"></p><hr><p>A high-level tour of <em>Programming in Modern C with a Sneak Peek into C23</em>  (by Dawid Zalewski) shows how C remains alive and evolving. The talk focuses on practical, post-C99 techniques, especially useful in systems and embedded work. It demonstrates idioms that improve clarity, safety, and ergonomics without giving up low-level control.</p><p><strong>Topics covered</strong></p><p><strong>Modern initialization</strong>
Brace and designated initializers, empty initialization <code>{}</code> in C23, and mixed positional and designated forms.</p><p><strong>Arrays</strong>
Array designators, rules for inferred array size, and guidance on when to avoid variable-length arrays as storage while still using VLA syntax to declare function parameter bounds.</p><p><strong>Pointer and API contracts</strong>
Sized array parameters <code>T a[n]</code>, <code>static</code> qualifiers like <code>T a[static 3]</code> to require valid elements, and <code>const char *static 1</code> to enforce non-null strings.</p><p><strong>Multidimensional data</strong>
Strongly typed pointers to VLA-shaped arrays for natural <code>a[i][j]</code> indexing and safer <code>sizeof</code> expressions.</p><p><strong>Compound literals</strong>
Creating unnamed lvalues to reassign structs, pass inline structs to functions, and zero objects succinctly.</p><p><strong>Macro patterns</strong>
Named-argument style wrappers around compound literals, simple defaults, <code>_Generic</code> for ad-hoc overloading by type, and a macro trick for argument-count dispatch.</p><p><strong>Memory layout</strong>
Flexible array members for allocating a header plus payload in one contiguous block, reducing double-allocation pitfalls.</p><p><strong>C23 highlights</strong>
New keywords for <code>bool</code>, <code>true</code>, and <code>false</code>, the <code>nullptr</code> constant, <code>auto</code> type inference in specific contexts, a note on <code>constexpr</code>, and current compiler support caveats.</p></blockquote><div class="codeBlockContainer_aLwb language-c theme-code-block"><div class="codeBlockContent_INfL c"><pre tabindex="0" class="prism-code language-c codeBlock_HyjA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_v42P"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">/*</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">    Modern C23-leaning &quot;vector&quot; demo with annotations.</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">    ASCII only.</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">    Assumption: compiler supports C23 and earlier C99 features referenced.</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">*/</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">include</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property string" style="color:#e3116c">&lt;stdio.h&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">include</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property string" style="color:#e3116c">&lt;stdlib.h&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">include</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property string" style="color:#e3116c">&lt;string.h&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">/* C23: bool/true/false are keywords; stdbool.h not required in C23. */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">bool </span><span class="token function" style="color:#d73a49">vec_create</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">struct</span><span class="token plain"> </span><span class="token class-name">vector</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token operator" style="color:#393A34">*</span><span class="token plain">vec </span><span class="token comment" style="color:#999988;font-style:italic">/* C99: [static 1] on pointer parameter */</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token class-name">size_t</span><span class="token plain"> cap</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">typedef</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">struct</span><span class="token plain"> </span><span class="token class-name">vector</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">size_t</span><span class="token plain"> capacity</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">size_t</span><span class="token plain"> size</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">double</span><span class="token plain"> data</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic">/* C99: flexible array member */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> vector</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">/* forward */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">dump_vec</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">vector </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> v</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">/*</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">    Create a vector with at least cap elements.</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="display:inline-block;color:#999988;font-style:italic"></span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">    Features used and standard origin:</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">      - C99: designated initializers in compound literal assignment.</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">      - C99: array parameter qualifier [static 1] to express non-null, valid storage.</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">      - C99: VLA type in sizeof, e.g., sizeof(double[cap]).</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">      - C23: bool, true/false keywords.</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">      - C23: nullptr keyword.</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">      - C23: constexpr object.</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">*/</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">bool </span><span class="token function" style="color:#d73a49">vec_create</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">vector </span><span class="token operator" style="color:#393A34">*</span><span class="token operator" style="color:#393A34">*</span><span class="token plain">vec </span><span class="token comment" style="color:#999988;font-style:italic">/* C99: [static 1] contract */</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">size_t</span><span class="token plain"> cap</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">vec </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> nullptr</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">          </span><span class="token comment" style="color:#999988;font-style:italic">/* C23: nullptr keyword */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> false</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    constexpr </span><span class="token class-name">size_t</span><span class="token plain"> DEF_CAP </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">16</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">/* C23: constexpr object */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    cap </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">cap </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> DEF_CAP </span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> cap</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">/*</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">        One contiguous allocation:</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">          - sizeof *v covers the header up to data[].</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">          - sizeof(double[cap]) uses a VLA type (C99) to size the payload.</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">    */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    vector </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">v </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">malloc</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">sizeof</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">v </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">sizeof</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">double</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">cap</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">v </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> nullptr</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">vec </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> nullptr</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> false</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">/* C99: compound literal with designated initializers to set the header. */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">v </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">vector</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">capacity </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> cap</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">size </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">/* data[] is the flexible member; no header field to set here */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">vec </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> v</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> true</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">/* trivial filler for demo output */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">static</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">vec_fill_sequential</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">vector </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">v</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">size_t</span><span class="token plain"> n </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> v</span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token plain">capacity </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> v</span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token plain">capacity </span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">size_t</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> n</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">++</span><span class="token plain">i</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        v</span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">i</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">double</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">i</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    v</span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token plain">size </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> n</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">dump_vec</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">vector </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> v</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">printf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;vector at %p\n&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">void</span><span class="token operator" style="color:#393A34">*</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">v</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">printf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;  capacity = %zu, size = %zu\n&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> v</span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token plain">capacity</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> v</span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token plain">size</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">size_t</span><span class="token plain"> n </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> v</span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token plain">size </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> v</span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token plain">size </span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">size_t</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> n</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">++</span><span class="token plain">i</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">printf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;  data[%zu] = %g\n&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> i</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> v</span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">i</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">main</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">void</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    vector </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">vec </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> nullptr</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">          </span><span class="token comment" style="color:#999988;font-style:italic">/* C23: nullptr keyword */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">vec_create</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">vec</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">printf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;created a vector\n\n&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">vec_fill_sequential</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">vec</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">dump_vec</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">vec</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">/*</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">            Single free releases both header and payload because data[]</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">            is a C99 flexible array member appended to the header.</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">        */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">free</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">vec</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">else</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">fprintf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token constant" style="color:#36acaa">stderr</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;failed to create vector\n&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_n_1r clean-btn">Copy</button></div></div><p><strong>Modern C99 Techniques You Can Use Today</strong></p><p><strong>1) Brace initialization</strong></p><div class="codeBlockContainer_aLwb language-c theme-code-block"><div class="codeBlockContent_INfL c"><pre tabindex="0" class="prism-code language-c codeBlock_HyjA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_v42P"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> x </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">42</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">struct</span><span class="token plain"> </span><span class="token class-name">Point</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> x</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> y</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">struct</span><span class="token plain"> </span><span class="token class-name">Point</span><span class="token plain"> p </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">x </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">y </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">20</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> a</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> b</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_n_1r clean-btn">Copy</button></div></div><p>Use <code>{}</code> initializers for scalars, arrays, and structs. Unlisted members become zero. <code>{0}</code> ensures explicit zeroing. For scalars, <code>int x = { 42 };</code> is the same as <code>int x = 42;</code>.</p><p><strong>2) Zeroing with <code>{0}</code></strong></p><div class="codeBlockContainer_aLwb language-c theme-code-block"><div class="codeBlockContent_INfL c"><pre tabindex="0" class="prism-code language-c codeBlock_HyjA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_v42P"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">struct</span><span class="token plain"> </span><span class="token class-name">State</span><span class="token plain"> s </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> zeros</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">16</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_n_1r clean-btn">Copy</button></div></div><p><code>{0}</code> zeroes the first element and, by rule, all others. <code>{}</code> is a C23 feature, not C99.</p><p><strong>3) Designated initializers</strong></p><div class="codeBlockContainer_aLwb language-c theme-code-block"><div class="codeBlockContent_INfL c"><pre tabindex="0" class="prism-code language-c codeBlock_HyjA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_v42P"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">struct</span><span class="token plain"> </span><span class="token class-name">Cfg</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> flags</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> mode</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> status</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">struct</span><span class="token plain"> </span><span class="token class-name">Cfg</span><span class="token plain"> c1 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">7</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">status </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_n_1r clean-btn">Copy</button></div></div><p>Mix positional and named initializers. Later values override earlier ones. Safer against field reorder.</p><p><strong>4) Array element designators</strong></p><div class="codeBlockContainer_aLwb language-c theme-code-block"><div class="codeBlockContent_INfL c"><pre tabindex="0" class="prism-code language-c codeBlock_HyjA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_v42P"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> fib</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">55</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">89</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_n_1r clean-btn">Copy</button></div></div><p>Sparse initialization. Size deduced as highest index + 1. Missing entries zeroed.</p><p><strong>5) Nested designators</strong></p><div class="codeBlockContainer_aLwb language-c theme-code-block"><div class="codeBlockContent_INfL c"><pre tabindex="0" class="prism-code language-c codeBlock_HyjA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_v42P"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">struct</span><span class="token plain"> </span><span class="token class-name">Item</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> k</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">struct</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> lo</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> hi</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> ext</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">struct</span><span class="token plain"> </span><span class="token class-name">Item</span><span class="token plain"> table</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">  </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">k </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ext </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">lo </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">hi </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ext</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">hi </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">99</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_n_1r clean-btn">Copy</button></div></div><p>Set deep fields directly. Useful for lookup tables.</p><p><strong>6) Variable Length Arrays (VLAs) in parameters</strong></p><div class="codeBlockContainer_aLwb language-c theme-code-block"><div class="codeBlockContent_INfL c"><pre tabindex="0" class="prism-code language-c codeBlock_HyjA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_v42P"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">fill</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> n</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> buf</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">n</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">sum_n</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">size_t</span><span class="token plain"> n</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">double</span><span class="token plain"> buf</span><span class="token punctuation" style="color:#393A34">[</span><span class="token keyword" style="color:#00009f">static</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_n_1r clean-btn">Copy</button></div></div><p>In parameters, VLAs encode bounds and non-null contracts. Avoid large VLAs as locals, they can exhaust the stack.</p><p><strong>7) Pointer contracts with <code>static 1</code></strong></p><div class="codeBlockContainer_aLwb language-c theme-code-block"><div class="codeBlockContent_INfL c"><pre tabindex="0" class="prism-code language-c codeBlock_HyjA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_v42P"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">print_line</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">char</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token keyword" style="color:#00009f">static</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> s</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_n_1r clean-btn">Copy</button></div></div><p>Means non-null pointer to at least one element. Passing NULL is UB. Only use when required.</p><p><strong>8) Strongly typed 2D arrays</strong></p><div class="codeBlockContainer_aLwb language-c theme-code-block"><div class="codeBlockContent_INfL c"><pre tabindex="0" class="prism-code language-c codeBlock_HyjA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_v42P"><span class="token-line" style="color:#393A34"><span class="token class-name">size_t</span><span class="token plain"> n </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> m </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">7</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">double</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">*</span><span class="token plain">mat</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">m</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">malloc</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">sizeof</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">mat </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> n</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mat</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1.0</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_n_1r clean-btn">Copy</button></div></div><p>Keeps row/column math correct. One allocation, one free.</p><p><strong>9) <code>sizeof</code> with VLA types</strong></p><div class="codeBlockContainer_aLwb language-c theme-code-block"><div class="codeBlockContent_INfL c"><pre tabindex="0" class="prism-code language-c codeBlock_HyjA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_v42P"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">*</span><span class="token plain">grid</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">m</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">malloc</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">sizeof</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">grid </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> n</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_n_1r clean-btn">Copy</button></div></div><p><code>sizeof *grid</code> always equals <code>m * sizeof(int)</code>. Safer against refactor mistakes.</p><p><strong>10) Compound literals</strong></p><div class="codeBlockContainer_aLwb language-c theme-code-block"><div class="codeBlockContent_INfL c"><pre tabindex="0" class="prism-code language-c codeBlock_HyjA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_v42P"><span class="token-line" style="color:#393A34"><span class="token plain">v </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">struct</span><span class="token plain"> </span><span class="token class-name">Vec</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">cap </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">64</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">len </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">data </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">calloc</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">64</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">sizeof</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">v</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token class-name">time_t</span><span class="token plain"> t </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">mktime</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">&amp;</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">struct</span><span class="token plain"> </span><span class="token class-name">tm</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">tm_year </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">124</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">tm_mon </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">tm_mday </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">28</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_n_1r clean-btn">Copy</button></div></div><p>Temporary lvalues. Use <code>(Type){0}</code> to clear. Block-scope literals live until block ends.</p><p><strong>11) Named-argument style calls</strong></p><div class="codeBlockContainer_aLwb language-c theme-code-block"><div class="codeBlockContent_INfL c"><pre tabindex="0" class="prism-code language-c codeBlock_HyjA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_v42P"><span class="token-line" style="color:#393A34"><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">define</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property macro-name function" style="color:#d73a49">BLUR</span><span class="token macro property expression punctuation" style="color:#393A34">(</span><span class="token macro property expression punctuation" style="color:#393A34">.</span><span class="token macro property expression punctuation" style="color:#393A34">.</span><span class="token macro property expression punctuation" style="color:#393A34">.</span><span class="token macro property expression punctuation" style="color:#393A34">)</span><span class="token macro property expression" style="color:#36acaa"> </span><span class="token macro property expression function" style="color:#d73a49">blur</span><span class="token macro property expression punctuation" style="color:#393A34">(</span><span class="token macro property expression operator" style="color:#393A34">&amp;</span><span class="token macro property expression punctuation" style="color:#393A34">(</span><span class="token macro property expression keyword" style="color:#00009f">struct</span><span class="token macro property expression" style="color:#36acaa"> </span><span class="token macro property expression class-name" style="color:#36acaa">BlurParams</span><span class="token macro property expression punctuation" style="color:#393A34">)</span><span class="token macro property expression punctuation" style="color:#393A34">{</span><span class="token macro property expression" style="color:#36acaa"> __VA_ARGS__ </span><span class="token macro property expression punctuation" style="color:#393A34">}</span><span class="token macro property expression punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">BLUR</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">dst </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> dst</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">src </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> src</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">width </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> w</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">height </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> h</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">kernel </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_n_1r clean-btn">Copy</button></div></div><p>Makes call sites self-documenting. Do not store the address of these temporaries.</p><p><strong>12) Default values with overlay macros</strong></p><div class="codeBlockContainer_aLwb language-c theme-code-block"><div class="codeBlockContent_INfL c"><pre tabindex="0" class="prism-code language-c codeBlock_HyjA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_v42P"><span class="token-line" style="color:#393A34"><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">define</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property macro-name" style="color:#36acaa">BLUR_DEFAULTS</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property expression punctuation" style="color:#393A34">.</span><span class="token macro property expression" style="color:#36acaa">compute_hw </span><span class="token macro property expression operator" style="color:#393A34">=</span><span class="token macro property expression" style="color:#36acaa"> </span><span class="token macro property expression number" style="color:#36acaa">0</span><span class="token macro property expression punctuation" style="color:#393A34">,</span><span class="token macro property expression" style="color:#36acaa"> </span><span class="token macro property expression punctuation" style="color:#393A34">.</span><span class="token macro property expression" style="color:#36acaa">kernel </span><span class="token macro property expression operator" style="color:#393A34">=</span><span class="token macro property expression" style="color:#36acaa"> </span><span class="token macro property expression number" style="color:#36acaa">3</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">define</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property macro-name function" style="color:#d73a49">BLUR2</span><span class="token macro property expression punctuation" style="color:#393A34">(</span><span class="token macro property expression punctuation" style="color:#393A34">.</span><span class="token macro property expression punctuation" style="color:#393A34">.</span><span class="token macro property expression punctuation" style="color:#393A34">.</span><span class="token macro property expression punctuation" style="color:#393A34">)</span><span class="token macro property expression" style="color:#36acaa"> </span><span class="token macro property expression function" style="color:#d73a49">blur</span><span class="token macro property expression punctuation" style="color:#393A34">(</span><span class="token macro property expression operator" style="color:#393A34">&amp;</span><span class="token macro property expression punctuation" style="color:#393A34">(</span><span class="token macro property expression keyword" style="color:#00009f">struct</span><span class="token macro property expression" style="color:#36acaa"> </span><span class="token macro property expression class-name" style="color:#36acaa">BlurParams</span><span class="token macro property expression punctuation" style="color:#393A34">)</span><span class="token macro property expression punctuation" style="color:#393A34">{</span><span class="token macro property expression" style="color:#36acaa"> BLUR_DEFAULTS</span><span class="token macro property expression punctuation" style="color:#393A34">,</span><span class="token macro property expression" style="color:#36acaa"> __VA_ARGS__ </span><span class="token macro property expression punctuation" style="color:#393A34">}</span><span class="token macro property expression punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_n_1r clean-btn">Copy</button></div></div><p>Later fields override earlier ones. Keep defaults consistent with struct definition.</p><p><strong>13) Flexible array members</strong></p><div class="codeBlockContainer_aLwb language-c theme-code-block"><div class="codeBlockContent_INfL c"><pre tabindex="0" class="prism-code language-c codeBlock_HyjA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_v42P"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">struct</span><span class="token plain"> </span><span class="token class-name">Str</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token class-name">size_t</span><span class="token plain"> len</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">char</span><span class="token plain"> data</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">struct</span><span class="token plain"> </span><span class="token class-name">Str</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">s </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">malloc</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">sizeof</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">s </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> n </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_n_1r clean-btn">Copy</button></div></div><p>Header and payload in one block. Better locality, single free. FAM must be last, and has no declared size.</p><p><strong>14) Single malloc vector</strong></p><div class="codeBlockContainer_aLwb language-c theme-code-block"><div class="codeBlockContent_INfL c"><pre tabindex="0" class="prism-code language-c codeBlock_HyjA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_v42P"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">struct</span><span class="token plain"> </span><span class="token class-name">Vector</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token class-name">size_t</span><span class="token plain"> capacity</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> size</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">double</span><span class="token plain"> data</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">*</span><span class="token plain">v </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">struct</span><span class="token plain"> </span><span class="token class-name">Vector</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">capacity </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> capacity</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">size </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_n_1r clean-btn">Copy</button></div></div><p>Use FAM to pack header and elements into one allocation.</p><p><strong>15) Macro overloading by arg count</strong></p><div class="codeBlockContainer_aLwb language-c theme-code-block"><div class="codeBlockContent_INfL c"><pre tabindex="0" class="prism-code language-c codeBlock_HyjA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_v42P"><span class="token-line" style="color:#393A34"><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">define</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property macro-name function" style="color:#d73a49">_GET_3RD</span><span class="token macro property expression punctuation" style="color:#393A34">(</span><span class="token macro property expression" style="color:#36acaa">a</span><span class="token macro property expression punctuation" style="color:#393A34">,</span><span class="token macro property expression" style="color:#36acaa">b</span><span class="token macro property expression punctuation" style="color:#393A34">,</span><span class="token macro property expression" style="color:#36acaa">c</span><span class="token macro property expression punctuation" style="color:#393A34">,</span><span class="token macro property expression punctuation" style="color:#393A34">.</span><span class="token macro property expression punctuation" style="color:#393A34">.</span><span class="token macro property expression punctuation" style="color:#393A34">.</span><span class="token macro property expression punctuation" style="color:#393A34">)</span><span class="token macro property expression" style="color:#36acaa"> c</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">define</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property macro-name function" style="color:#d73a49">_SELECT_SCALE</span><span class="token macro property expression punctuation" style="color:#393A34">(</span><span class="token macro property expression punctuation" style="color:#393A34">.</span><span class="token macro property expression punctuation" style="color:#393A34">.</span><span class="token macro property expression punctuation" style="color:#393A34">.</span><span class="token macro property expression punctuation" style="color:#393A34">)</span><span class="token macro property expression" style="color:#36acaa"> </span><span class="token macro property expression function" style="color:#d73a49">_GET_3RD</span><span class="token macro property expression punctuation" style="color:#393A34">(</span><span class="token macro property expression" style="color:#36acaa">__VA_ARGS__</span><span class="token macro property expression punctuation" style="color:#393A34">,</span><span class="token macro property expression" style="color:#36acaa"> scale_rect2</span><span class="token macro property expression punctuation" style="color:#393A34">,</span><span class="token macro property expression" style="color:#36acaa"> scale_rect1</span><span class="token macro property expression punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">define</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property macro-name function" style="color:#d73a49">scale_rect_auto</span><span class="token macro property expression punctuation" style="color:#393A34">(</span><span class="token macro property expression" style="color:#36acaa">r</span><span class="token macro property expression punctuation" style="color:#393A34">,</span><span class="token macro property expression" style="color:#36acaa"> </span><span class="token macro property expression punctuation" style="color:#393A34">.</span><span class="token macro property expression punctuation" style="color:#393A34">.</span><span class="token macro property expression punctuation" style="color:#393A34">.</span><span class="token macro property expression punctuation" style="color:#393A34">)</span><span class="token macro property expression" style="color:#36acaa"> </span><span class="token macro property expression function" style="color:#d73a49">_SELECT_SCALE</span><span class="token macro property expression punctuation" style="color:#393A34">(</span><span class="token macro property expression" style="color:#36acaa">__VA_ARGS__</span><span class="token macro property expression punctuation" style="color:#393A34">)</span><span class="token macro property expression punctuation" style="color:#393A34">(</span><span class="token macro property expression" style="color:#36acaa">r</span><span class="token macro property expression punctuation" style="color:#393A34">,</span><span class="token macro property expression" style="color:#36acaa"> __VA_ARGS__</span><span class="token macro property expression punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_n_1r clean-btn">Copy</button></div></div><p>Simulates overloading. Pure preprocessor trick, no type checking.</p><p><strong>Portability and safety</strong></p><ul><li>Use <code>&lt;stdbool.h&gt;</code> for <code>bool</code>, <code>true</code>, <code>false</code>.</li><li>VLAs are required in C99 but optional in later standards. Some compilers disable them.</li><li>Contracts with <code>static k</code> are promises, not checks. Violating them is UB.</li><li>Flexible array members require careful allocation.</li></ul><p><strong>Safer alternatives</strong></p><ul><li>Prefer heap + VLA types for large arrays.</li><li>Use <code>(Type){0}</code> to clear objects, not <code>memset</code>.</li><li>Use designated initializers for public config structs.</li><li>Use macro overlays for defaults.</li></ul><p>2025-07-13 <a href="https://www.lelanthran.com/chap13/content.html" target="_blank" rel="noopener noreferrer">Parse, Don‚Äôt Validate AKA Some C Safety Tips</a> { <a href="http://www.lelanthran.com" target="_blank" rel="noopener noreferrer">www.lelanthran.com</a> }</p><blockquote><p>The article &quot;Parse, Don‚Äôt Validate AKA Some C Safety Tips&quot; by Lelanthran expands on the concept of converting input into strong types rather than merely validating it as plain strings. It demonstrates how this approach, when applied in C, reduces error-prone code and security risks. The post outlines three practical benefits: boundary handling with opaque types, safer memory cleanup via pointer‚Äësetting destructors, and compile‚Äëtime type safety that prevents misuse deeper in the codebase.</p><p><strong>Key Takeaways:</strong></p><ol><li><strong>Use Strong, Opaque Types for Input</strong><ul><li>Instead of handling raw <code>char *</code>, parse untrusted input into dedicated types like <code>email_t</code> or <code>name_t</code>.</li><li>This restricts raw input to the system boundary and ensures all later code works with validated, structured data.</li></ul></li><li><strong>Reduce Attack Surface</strong><ul><li>Only boundary functions see untrusted strings; internal functions operate on safe, strongly typed data.</li><li>This prevents deeper code from encountering malformed or malicious input.</li></ul></li><li><strong>Enforce Correctness at Compile Time</strong><ul><li>With distinct types, the compiler prohibits misuse, such as passing an <code>email_t*</code> to a function expecting a <code>name_t*</code>.</li><li>What would be a runtime bug becomes a compiler error.</li></ul></li><li><strong>Implement Defensive Destructors</strong><ul><li>Design destructor functions to take a double pointer (<code>T **</code>) so they can free and then set the pointer to <code>NULL</code>.</li><li>This prevents double‚Äëfree errors and related memory safety issues.</li></ul></li><li><strong>Eliminate Internal String Handling</strong><ul><li>By centralizing parsing near the system entry and eliminating <code>char *</code> downstream, code becomes safer and clearer.</li><li>Once input is parsed, the rest of the system works with well-typed data only.</li></ul></li></ol><p><img alt="image-20250713115328366" src="/assets/images/image-20250713115328366-f0616739ea1fdb401dad0f0ac285ccf0.png" width="953" height="872"></p></blockquote><h2 class="anchor anchorWithStickyNavbar_DXrL" id="c99-reimplement-this-world">C99 Reimplement this world!<a class="hash-link" href="#c99-reimplement-this-world" title="Direct link to heading">‚Äã</a></h2><blockquote><p>üí° C99 keeps the standard library small, so engineers often reimplement common utilities -- strings, containers, parsing, algorithms. That repetition is a feature: it produces many competing designs you can read, compare, and learn a lot from because different approaches expose trade-offs and techniques.</p></blockquote><p>2025-10-03 <a href="https://attractivechaos.github.io/klib/#About" target="_blank" rel="noopener noreferrer">Klib ‚Äî a generic library in C</a> { attractivechaos.github.io }</p><blockquote><p><a href="https://github.com/attractivechaos/klib" target="_blank" rel="noopener noreferrer">attractivechaos/klib: A standalone and lightweight C library</a> { github.com }</p><p>Klib shows how to build fast, low-overhead ‚Äústandard library‚Äù pieces in plain C without templates or <code>void*</code> indirection. The core pattern is macro-based generics: you instantiate a container or algorithm with a type name macro, and the preprocessor generates type-specialized code. That keeps binaries small, avoids runtime casts, and stays competitive with handwritten, type-specific containers. The README and docs stress this trade-off explicitly and show the macro expansion style with <code>khash.h</code> as the teaching example.</p><p><img alt="image-20251003112834630" src="/assets/images/image-20251003112834630-fca1ad95f831362069b9a5b53cda41ff.png" width="1000" height="620"></p><p><strong>Common components</strong></p><ul><li>[khash.h]<!-- -->(<a href="https://attractivechaos.github.io/klib/#Khash%3A" target="_blank" rel="noopener noreferrer">https://attractivechaos.github.io/klib/#Khash%3A</a> generic hash table): generic hash table based on double hashing.</li><li>[kbtree.h]<!-- -->(<a href="https://attractivechaos.github.io/klib/#KBtree%3A" target="_blank" rel="noopener noreferrer">https://attractivechaos.github.io/klib/#KBtree%3A</a> generic ordered map): generic search tree based on B-tree.</li><li>[kavl.h]<!-- -->(<a href="https://attractivechaos.github.io/klib/#KAVL%3A" target="_blank" rel="noopener noreferrer">https://attractivechaos.github.io/klib/#KAVL%3A</a> generic intrusive AVL tree): generic intrusive AVL tree.</li><li>[ksort.h]<!-- -->(<a href="https://attractivechaos.github.io/klib/#Ksort%3A" target="_blank" rel="noopener noreferrer">https://attractivechaos.github.io/klib/#Ksort%3A</a> sorting%2C shuffling%2C heap and k-small): generic sort, including introsort, merge sort, heap sort, comb sort, Knuth shuffle and the k-small algorithm.</li><li>[kseq.h]<!-- -->(<a href="https://attractivechaos.github.io/klib/#Kseq%3A" target="_blank" rel="noopener noreferrer">https://attractivechaos.github.io/klib/#Kseq%3A</a> stream buffer and FASTA%2FQ parser): generic stream buffer and a FASTA/FASTQ format parser.</li><li>kvec.h: generic dynamic array.</li><li>[kdq.h]<!-- -->(<a href="https://attractivechaos.github.io/klib/#Kdq%3A" target="_blank" rel="noopener noreferrer">https://attractivechaos.github.io/klib/#Kdq%3A</a> double-ended queue): generic double-ended queue (de-queue).</li><li>klist.h: generic single-linked list and memory pool.</li><li>kstring.{h,c}: basic string library.</li><li>[ketopt.h]<!-- -->(<a href="https://attractivechaos.github.io/klib/#Ketopt%3A" target="_blank" rel="noopener noreferrer">https://attractivechaos.github.io/klib/#Ketopt%3A</a> parsing command-line arguments): command-line argument parser, similar to <a href="https://linux.die.net/man/3/getopt_long" target="_blank" rel="noopener noreferrer">getopt_long</a>.</li><li>kmath.{h,c}: numerical routines including basic nonlinear programming and a few special math functions.</li><li>[kson.{h,c}]<!-- -->(<a href="https://attractivechaos.github.io/klib/#Kson%3A" target="_blank" rel="noopener noreferrer">https://attractivechaos.github.io/klib/#Kson%3A</a> simple JSON parser): simple <a href="http://www.json.org/" target="_blank" rel="noopener noreferrer">JSON</a> parser (no streaming)</li><li>[kthread.{h,c}]<!-- -->(<a href="https://attractivechaos.github.io/klib/#Kthread%3A" target="_blank" rel="noopener noreferrer">https://attractivechaos.github.io/klib/#Kthread%3A</a> simple threading models): simple multi-threading models.</li></ul></blockquote><p>Samples:</p><div class="codeBlockContainer_aLwb language-c theme-code-block"><div class="codeBlockContent_INfL c"><pre tabindex="0" class="prism-code language-c codeBlock_HyjA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_v42P"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// Hash map: int -&gt; char</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">include</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property string" style="color:#e3116c">&quot;khash.h&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">KHASH_MAP_INIT_INT</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">m32</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">char</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">main</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> absent</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token class-name">khint_t</span><span class="token plain"> k</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token class-name">khash_t</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">m32</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> h </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">kh_init</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">m32</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  k </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">kh_put</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">m32</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> h</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">42</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">absent</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">absent</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">kh_value</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">h</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> k</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token char">&#x27;x&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  k </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">kh_get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">m32</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> h</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">42</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">k </span><span class="token operator" style="color:#393A34">!=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">kh_end</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">h</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">kh_del</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">m32</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> h</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> k</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">kh_destroy</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">m32</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> h</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_n_1r clean-btn">Copy</button></div></div><p>2025-10-03 <a href="https://drh.github.io/cii/toc.html" target="_blank" rel="noopener noreferrer">C Interfaces and Implementations</a> { drh.github.io }</p><blockquote><p><a href="https://github.com/drh/cii" target="_blank" rel="noopener noreferrer">drh/cii: C Interfaces and Implementations</a> { github.com }</p><p>David R. Hanson‚Äôs C Interfaces and Implementations (CII) is both a textbook and a production-grade library. The repository contains the complete source for the book‚Äôs 24 interfaces and implementations. The code favors clarity and pedagogical structure over clever micro-optimizations. It‚Äôs rich with reusable idioms: strict interface/implementation separation, minimal public surface area, explicit memory-management modules, compact yet complete data-structure implementations, and a small set of concurrency primitives with hand-written context switching.</p><p><img alt="image-20251003113819314" src="/assets/images/image-20251003113819314-d5758ac68ea32f5c41db8f8ec9d51eb4.png" width="1168" height="761"></p></blockquote><h2 class="anchor anchorWithStickyNavbar_DXrL" id="dev-c-articles">Dev C Articles<a class="hash-link" href="#dev-c-articles" title="Direct link to heading">‚Äã</a></h2><ul><li>2025-10-03 <a href="https://beej.us/guide/" target="_blank" rel="noopener noreferrer">Beej&#x27;s Guides</a> {beej.us}</li></ul><blockquote><p><img alt="image-20251003160532500" src="/assets/images/image-20251003160532500-78be1344bab3651df25a72a8bf592852.png" width="931" height="884"></p></blockquote><ul><li>2022-03-05 <a href="https://www.lurklurk.org/linkers/linkers.html" target="_blank" rel="noopener noreferrer">Beginner&#x27;s Guide to Linkers</a></li></ul><blockquote><p>This article is intended to help C &amp; C++ programmers understand the essentials of what the linker does. I&#x27;ve explained this to a number of colleagues over the years, so I decided it was time to write it down so that it&#x27;s more widely available.</p></blockquote><ul><li>2022-11-28 <a href="https://tmewett.com/c-tips/" target="_blank" rel="noopener noreferrer">Everything I wish I knew when learning C - Tom M</a></li></ul><blockquote><p>Learning C was quite difficult for me. The basics of the language itself weren‚Äôt so bad, but ‚Äúprogramming in C‚Äù requires a lot of other kinds of knowledge which aren‚Äôt as easy to pick up on:</p><ul><li>C has no environment which smooths out platform or OS differences; you need to know about your platform too</li><li>there are many C compiler options and build tools, making even running a simple program involve lots of decisions</li><li>there are important concepts related to CPUs, OSes, compiled code in general</li><li>it‚Äôs used in such varied ways that there‚Äôs far less a centralised ‚Äúcommunity‚Äù or style than other languages</li></ul></blockquote><ul><li><p>2022-11-13 Building a simple shell in C</p><blockquote><p>A basic shell that prints a prompt, waits for user to enter command and prints what they entered on the next line</p></blockquote><ul><li><a href="https://blog.ehoneahobed.com/building-a-simple-shell-in-c-part-1" target="_blank" rel="noopener noreferrer">Building a simple shell in C - Part 1</a></li><li><a href="https://blog.ehoneahobed.com/building-a-simple-shell-in-c-part-2" target="_blank" rel="noopener noreferrer">Building a simple shell in C - Part 2</a></li><li><a href="https://blog.ehoneahobed.com/building-a-simple-shell-in-c-part-3" target="_blank" rel="noopener noreferrer">Building a simple shell in C - Part 3</a></li></ul></li><li><p>2022-11-13 <a href="https://viewsourcecode.org/snaptoken/kilo/" target="_blank" rel="noopener noreferrer">Build Your Own Text Editor</a></p><blockquote><p>Welcome! This is an instruction booklet that shows you how to build a text editor in C.</p><p>The text editor is antirez‚Äôs kilo, with some changes. It‚Äôs about 1000 lines of C in a single file with no dependencies, and it implements all the basic features you expect in a minimal editor, as well as syntax highlighting and a search feature.</p></blockquote></li><li><p>2023-05-22 <a href="https://samwho.dev/memory-allocation/" target="_blank" rel="noopener noreferrer">Memory Allocation</a></p></li></ul><blockquote><p>One thing that all programs on your computer have in common is a need for memory. Programs need to be loaded from your hard drive into memory before they can be run. While running, the majority of what programs do is load values from memory, do some computation on them, and then store the result back in memory.</p><p>In this post I&#x27;m going to introduce you to the basics of memory allocation. Allocators exist because it&#x27;s not enough to have memory available, you need to use it effectively. We will visually explore how simple allocators work. We&#x27;ll see some of the problems that they try to solve, and some of the techniques used to solve them. At the end of this post, you should know everything you need to know to write your own allocator.</p><p><img alt="image-20230528170203659" src="/assets/images/image-20230528170203659-204155b73aa27ea7e8bec8efc6e5f671.png" width="853" height="548"></p></blockquote><ul><li>2023-07-01 <a href="https://jorengarenar.github.io/blog/less-known-c" target="_blank" rel="noopener noreferrer">Few lesser known tricks, quirks and features of C</a></li></ul><blockquote><p>There are some tricks, quirks and features (some quite fundamental to the language!) which seems to throw even experienced developers off the track. Thus I did a sloppy job of gathering some of them in this post (in no particular order) with even sloppier short explanations and/or examples (or quote of thereof).</p><ul><li><a href="https://jorengarenar.github.io/blog/less-known-c#array-pointers" target="_blank" rel="noopener noreferrer">Array pointers</a></li><li><a href="https://jorengarenar.github.io/blog/less-known-c#comma-operator" target="_blank" rel="noopener noreferrer">Comma operator</a></li><li><a href="https://jorengarenar.github.io/blog/less-known-c#digraphs-trigraphs-and-alternative-tokens" target="_blank" rel="noopener noreferrer">Digraphs, trigraphs and alternative tokens</a></li><li><a href="https://jorengarenar.github.io/blog/less-known-c#designated-initializer" target="_blank" rel="noopener noreferrer">Designated initializer</a></li><li><a href="https://jorengarenar.github.io/blog/less-known-c#compound-literals" target="_blank" rel="noopener noreferrer">Compound literals</a></li><li><a href="https://jorengarenar.github.io/blog/less-known-c#compound-literals-are-lvalues" target="_blank" rel="noopener noreferrer">Compound literals are lvalues</a></li><li><a href="https://jorengarenar.github.io/blog/less-known-c#multi-character-constants" target="_blank" rel="noopener noreferrer">Multi-character constants</a></li><li><a href="https://jorengarenar.github.io/blog/less-known-c#bit-fields" target="_blank" rel="noopener noreferrer">Bit fields</a></li><li><a href="https://jorengarenar.github.io/blog/less-known-c#0-bit-fields" target="_blank" rel="noopener noreferrer">0 bit fields</a></li><li><a href="https://jorengarenar.github.io/blog/less-known-c#volatile-type-qualifier" target="_blank" rel="noopener noreferrer"><code>volatile</code> type qualifier</a></li><li><a href="https://jorengarenar.github.io/blog/less-known-c#restrict-type-qualifier" target="_blank" rel="noopener noreferrer"><code>restrict</code> type qualifier</a></li><li><a href="https://jorengarenar.github.io/blog/less-known-c#register-type-qualifier" target="_blank" rel="noopener noreferrer"><code>register</code> type qualifier</a></li><li><a href="https://jorengarenar.github.io/blog/less-known-c#flexible-array-member" target="_blank" rel="noopener noreferrer">Flexible array member</a></li><li><a href="https://jorengarenar.github.io/blog/less-known-c#n-format-specifier" target="_blank" rel="noopener noreferrer"><code>%n</code> format specifier</a></li><li><a href="https://jorengarenar.github.io/blog/less-known-c#-minimum-field-width-format-specifier" target="_blank" rel="noopener noreferrer"><code>%.*</code> (minimum field width) format specifier</a></li><li><a href="https://jorengarenar.github.io/blog/less-known-c#other-less-known-format-specifiers" target="_blank" rel="noopener noreferrer">Other less known format specifiers</a></li><li><a href="https://jorengarenar.github.io/blog/less-known-c#interlacing-syntactic-constructs" target="_blank" rel="noopener noreferrer">Interlacing syntactic constructs</a></li><li><a href="https://jorengarenar.github.io/blog/less-known-c#---operator" target="_blank" rel="noopener noreferrer"><code>--&gt;</code> &quot;operator&quot;</a></li><li>[<code>idx[arr\]</code>](<a href="https://jorengarenar.github.io/blog/less-known-c#idxarr" target="_blank" rel="noopener noreferrer">https://jorengarenar.github.io/blog/less-known-c#idxarr</a>)</li><li><a href="https://jorengarenar.github.io/blog/less-known-c#negative-array-indexes" target="_blank" rel="noopener noreferrer">Negative array indexes</a></li><li><a href="https://jorengarenar.github.io/blog/less-known-c#constant-string-concatenation" target="_blank" rel="noopener noreferrer">Constant string concatenation</a></li><li><a href="https://jorengarenar.github.io/blog/less-known-c#backslash-line-splicing" target="_blank" rel="noopener noreferrer">Backslash line splicing</a></li><li><a href="https://jorengarenar.github.io/blog/less-known-c#using--and--as-conditionals" target="_blank" rel="noopener noreferrer">Using <code>&amp;&amp;</code> and <code>||</code> as conditionals</a></li><li><a href="https://jorengarenar.github.io/blog/less-known-c#compile-time-assumption-checking-using-enums" target="_blank" rel="noopener noreferrer">Compile time assumption checking using <code>enum</code>s</a></li><li><a href="https://jorengarenar.github.io/blog/less-known-c#ad-hoc-struct-declaration-in-the-return-type-of-a-function" target="_blank" rel="noopener noreferrer">Ad hoc <code>struct</code> declaration in the return type of a function</a></li><li><a href="https://jorengarenar.github.io/blog/less-known-c#nested-struct-definition-is-not-kept-nested" target="_blank" rel="noopener noreferrer">&quot;Nested&quot; <code>struct</code> definition is not kept nested</a></li><li><a href="https://jorengarenar.github.io/blog/less-known-c#flat-initializer-lists" target="_blank" rel="noopener noreferrer">Flat initializer lists</a></li><li><a href="https://jorengarenar.github.io/blog/less-known-c#implicit-casting-of-void-pointers" target="_blank" rel="noopener noreferrer">Implicit casting of <code>void</code> pointers</a></li><li><a href="https://jorengarenar.github.io/blog/less-known-c#static-array-indices-in-function-parameter-declarations" target="_blank" rel="noopener noreferrer">Static array indices in function parameter declarations</a></li><li><a href="https://jorengarenar.github.io/blog/less-known-c#macro-overloading-by-argument-list-length" target="_blank" rel="noopener noreferrer">Macro Overloading by Argument List Length</a></li><li><a href="https://jorengarenar.github.io/blog/less-known-c#function-types" target="_blank" rel="noopener noreferrer">Function types</a></li><li><a href="https://jorengarenar.github.io/blog/less-known-c#x-macros" target="_blank" rel="noopener noreferrer">X-Macros</a></li><li><a href="https://jorengarenar.github.io/blog/less-known-c#named-function-parameters" target="_blank" rel="noopener noreferrer">Named function parameters</a></li><li><a href="https://jorengarenar.github.io/blog/less-known-c#combining-default-named-and-positional-arguments" target="_blank" rel="noopener noreferrer">Combining default, named and positional arguments</a></li><li><a href="https://jorengarenar.github.io/blog/less-known-c#abusing-unions-for-grouping-things-into-namespaces" target="_blank" rel="noopener noreferrer">Abusing unions for grouping things into namespaces</a></li><li><a href="https://jorengarenar.github.io/blog/less-known-c#unity-builds" target="_blank" rel="noopener noreferrer">Unity builds</a></li><li><a href="https://jorengarenar.github.io/blog/less-known-c#matching-character-classes-with-sscanf" target="_blank" rel="noopener noreferrer">Matching character classes with <code>sscanf()</code></a></li><li><a href="https://jorengarenar.github.io/blog/less-known-c#garbage-collector" target="_blank" rel="noopener noreferrer">Garbage collector</a></li><li><a href="https://jorengarenar.github.io/blog/less-known-c#cosmopolitan-libc" target="_blank" rel="noopener noreferrer">Cosmopolitan Libc</a></li><li><a href="https://jorengarenar.github.io/blog/less-known-c#inline-assembly" target="_blank" rel="noopener noreferrer">Inline assembly</a></li><li><a href="https://jorengarenar.github.io/blog/less-known-c#object-oriented-programming" target="_blank" rel="noopener noreferrer">Object Oriented Programming</a></li><li><a href="https://jorengarenar.github.io/blog/less-known-c#metaprogramming" target="_blank" rel="noopener noreferrer">Metaprogramming</a></li><li><a href="https://jorengarenar.github.io/blog/less-known-c#evaluate-sizeof-at-compile-time-by-causing-duplicate-case-error" target="_blank" rel="noopener noreferrer">Evaluate <code>sizeof</code> at compile time by causing duplicate case error</a></li></ul></blockquote><p>2023-06-30 <a href="https://abstractexpr.com/2023/06/29/structures-in-c-from-basics-to-memory-alignment/" target="_blank" rel="noopener noreferrer">Structures in C: From Basics to Memory Alignment ‚Äì Abstract Expression</a></p><blockquote><p>Structures allow us to combine several variables to create a new data type. Some other languages support the same concept but call it ‚Äúrecords‚Äù. If you come from object-oriented programming you can think about them as classes without methods.</p><p><img alt="image-20230702152138229" src="/assets/images/image-20230702152138229-4c0d566a6507de2efd85cd8dd9982a0b.png" width="740" height="886"></p></blockquote><h2 class="anchor anchorWithStickyNavbar_DXrL" id="books">Books<a class="hash-link" href="#books" title="Direct link to heading">‚Äã</a></h2><p>2025-10-18 <a href="https://goalkicker.com/CBook/" target="_blank" rel="noopener noreferrer">Free C Programming Book</a> { goalkicker.com }</p><blockquote><p><img alt="image-20251018124405108" src="/assets/images/image-20251018124405108-4c1d3d05d6d1a6531dfe93a7ec264e27.png" width="1123" height="878"></p></blockquote><table><thead><tr><th>ASCII values</th><th>characters</th><th>iscntrl</th><th>isblank</th><th>isspace</th><th>isupper</th><th>islower</th><th>isalpha</th><th>isdigit</th><th>isxdigit</th><th>isalnum</th><th>ispunct</th><th>isgraph</th><th>isprint</th></tr></thead><tbody><tr><td>0x00..0x08</td><td>NUL and other control codes</td><td>X</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>0x09</td><td>tab <code>\t</code></td><td>X</td><td>X</td><td>X</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>0x0A..0x0D</td><td><code>\n</code> <code>\v</code> <code>\f</code> <code>\r</code></td><td>X</td><td></td><td>X</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>0x0E..0x1F</td><td>other control codes</td><td>X</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>0x20</td><td>space <code>&#x27; &#x27;</code></td><td></td><td>X</td><td>X</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td>X</td></tr><tr><td>0x21..0x2F</td><td><code>!&quot;#$%&amp;&#x27;()*+,-./</code></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td>X</td><td>X</td><td>X</td></tr><tr><td>0x30..0x39</td><td><code>0123456789</code></td><td></td><td></td><td></td><td></td><td></td><td></td><td>X</td><td>X</td><td>X</td><td></td><td>X</td><td>X</td></tr><tr><td>0x3A..0x40</td><td><code>:;&lt;=&gt;?@</code></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td>X</td><td>X</td><td>X</td></tr><tr><td>0x41..0x46</td><td><code>A..F</code></td><td></td><td></td><td></td><td>X</td><td></td><td>X</td><td></td><td>X</td><td>X</td><td></td><td>X</td><td>X</td></tr><tr><td>0x47..0x5A</td><td><code>G..Z</code></td><td></td><td></td><td></td><td>X</td><td></td><td>X</td><td></td><td></td><td>X</td><td></td><td>X</td><td>X</td></tr><tr><td>0x5B..0x60</td><td>`[]^_``</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td>X</td><td>X</td><td>X</td></tr><tr><td>0x61..0x66</td><td><code>a..f</code></td><td></td><td></td><td></td><td></td><td>X</td><td>X</td><td></td><td>X</td><td>X</td><td></td><td>X</td><td>X</td></tr><tr><td>0x67..0x7A</td><td><code>g..z</code></td><td></td><td></td><td></td><td></td><td>X</td><td>X</td><td></td><td></td><td>X</td><td></td><td>X</td><td>X</td></tr><tr><td>0x7B..0x7E</td><td>`{ } ~</td><td>`</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td>X</td><td>X</td></tr><tr><td>0x7F</td><td>DEL</td><td>X</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr></tbody></table><p>1993 ‚≠ê <a href="https://www.mclibre.org/descargar/docs/libros/ooc-ats.pdf" target="_blank" rel="noopener noreferrer">Object-oriented Programming with ANSI-C (1993) [pdf]</a></p><blockquote><p>Retro document! but very well written... PLEASE DON&#x27;T DO THIS!</p><p><img alt="image-20230629003429585" src="/assets/images/image-20230629003429585-2397577d9e53da9f1098b2887db0cfa3.png" width="969" height="577"></p></blockquote><p>2025-10-18 <a href="https://github.com/EbookFoundation/free-programming-books/blob/main/books/free-programming-books-langs.md#c" target="_blank" rel="noopener noreferrer">free-programming-books/books/free-programming-books-langs.md at main ¬∑ EbookFoundation/free-programming-books</a> { github.com }</p><blockquote><ul><li><a href="http://www.brackeen.com/vga/" target="_blank" rel="noopener noreferrer">256-Color VGA Programming in C</a> - David Brackeen</li><li><a href="https://web.archive.org/web/20180827131006/http://home.earthlink.net/~momotuk/pointers.pdf" target="_blank" rel="noopener noreferrer">A Tutorial on Pointers and Arrays in C</a> - Ted Jensen (PDF) <em>( üóÉÔ∏è archived)</em></li><li><a href="https://www.ime.usp.br/~pf/algorithms/" target="_blank" rel="noopener noreferrer">Algorithms Design (in C)</a> - Paulo Feofiloff (HTML)</li><li><a href="https://github.com/umanovskis/baremetal-arm" target="_blank" rel="noopener noreferrer">Bare-metal programming for ARM</a> - Daniels Umanovskis <a href="http://umanovskis.se/files/arm-baremetal-ebook.pdf" target="_blank" rel="noopener noreferrer">(PDF)</a></li><li><a href="http://beej.us/guide/bgc/" target="_blank" rel="noopener noreferrer">Beej&#x27;s Guide to C Programming</a> - Brian &quot;Beej Jorgensen&quot; Hall (HTML, PDF) (CC BY-NC-ND)</li><li><a href="http://beej.us/guide/bggdb/" target="_blank" rel="noopener noreferrer">Beej&#x27;s Guide to the GNU Debugger (GDB)</a> - Brian &quot;Beej Jorgensen&quot; Hall (HTML) (CC BY-NC-ND)</li><li><a href="http://www.buildyourownlisp.com/" target="_blank" rel="noopener noreferrer">Build Your Own Lisp</a> - Daniel Holden</li><li><a href="https://build-your-own.org/" target="_blank" rel="noopener noreferrer">Build Your Own Redis with C/C++</a> - build-your-own.org (HTML) ( üöß <em>in process</em>)</li><li><a href="http://www.oualline.com/books.free/style/" target="_blank" rel="noopener noreferrer">C Elements of Style</a> - Steve Oualline</li><li><a href="http://www.cburch.com/books/cpy/" target="_blank" rel="noopener noreferrer">C for Python Programmers</a> - Carl Burch</li><li><a href="https://thevalleyofcode.com/c/" target="_blank" rel="noopener noreferrer">C Handbook</a> - Flavio Copes (HTML, PDF)</li><li><a href="https://www.avabodh.com/cin/cin.html" target="_blank" rel="noopener noreferrer">C Internals</a> - Rajeev Kumar (HTML)</li><li><a href="https://goalkicker.com/CBook" target="_blank" rel="noopener noreferrer">C Notes for Professionals</a> - Compiled from StackOverflow Documentation (PDF)</li><li><a href="https://en.wikibooks.org/wiki/Programming%3AC" target="_blank" rel="noopener noreferrer">C Programming</a> - Wikibooks</li><li><a href="https://gribblelab.org/teaching/CBootCamp/" target="_blank" rel="noopener noreferrer">C Programming Boot Camp - Paul Gribble</a></li><li><a href="https://www.tutorialspoint.com/cprogramming/" target="_blank" rel="noopener noreferrer">C Programming Tutorial</a> - Tutorials Point (HTML, PDF)</li><li><a href="https://github.com/illinois-cs241/coursebook" target="_blank" rel="noopener noreferrer">Coursebook</a> - B. Venkatesh, L. Angrave, et al.</li><li><a href="http://www.slideshare.net/olvemaudal/deep-c" target="_blank" rel="noopener noreferrer">Deep C</a></li><li><a href="http://cslibrary.stanford.edu/101/EssentialC.pdf" target="_blank" rel="noopener noreferrer">Essential C</a> - Nick Parlante (PDF)</li><li><a href="https://www.programming-books.io/essential/c/" target="_blank" rel="noopener noreferrer">Essential C</a> - Krzysztof Kowalczyk, StackOverflow Contributors</li><li><a href="http://boredzo.org/pointers/" target="_blank" rel="noopener noreferrer">Everything you need to know about pointers in C - Peter Hosey</a></li><li><a href="https://research.utwente.nl/files/5128727/book.pdf" target="_blank" rel="noopener noreferrer">Functional C (1997)</a> - Pieter H. Hartel, Henk Muller (PDF)</li><li><a href="https://www.smashwords.com/books/view/737188" target="_blank" rel="noopener noreferrer">Hashing</a> - Prakash Hegade</li><li><a href="https://codeahoy.com/learn/cprogramming/toc/" target="_blank" rel="noopener noreferrer">Introduction to Programming and Data Structures in C</a> - CodeAhoy (HTML)</li><li><a href="https://magpi.raspberrypi.com/books/essentials-c-v1" target="_blank" rel="noopener noreferrer">Learn to Code With C - The MagPi Essentials</a> (PDF)</li><li><a href="https://download-mirror.savannah.gnu.org/releases/c-prog-book/learning_gnu_c.pdf" target="_blank" rel="noopener noreferrer">Learning GNU C</a> - Ciaran O‚ÄôRiordan (PDF)</li><li><a href="https://books.google.co.in/books?id=Ce6gAAAACAAJ&amp;printsec=frontcover#v=onepage&amp;q&amp;f=false" target="_blank" rel="noopener noreferrer">Let us C</a> - Yashavant Kanetkar (PDF)</li><li><a href="https://ben.klemens.org/pdfs/gsl_stats.pdf" target="_blank" rel="noopener noreferrer">Modeling with Data</a> - Ben Klemens (PDF)</li><li><a href="https://gustedt.gitlabpages.inria.fr/modern-c/" target="_blank" rel="noopener noreferrer">Modern C</a> - Jens Gustedt (PDF) (CC BY-NC-ND)</li><li><a href="https://www.cs.rit.edu/~ats/books/ooc.pdf" target="_blank" rel="noopener noreferrer">Object-Oriented Programming With ANSI-C</a> - Axel-Tobias Schreiner (PDF)</li><li><a href="http://ee.hawaii.edu/~tep/EE160/Book/PDF/" target="_blank" rel="noopener noreferrer">Programming in C</a> - Bharat Kinariwala &amp; Tep Dobry</li><li><a href="https://www.freetechbooks.com/programming-in-c-t1337.html" target="_blank" rel="noopener noreferrer">Programming in C</a> - Kishori Mundargi</li><li><a href="https://www.smashwords.com/books/view/644937" target="_blank" rel="noopener noreferrer">Structures and C</a> - Prakash Hegade</li><li><a href="https://www.phys.uconn.edu/~rozman/Courses/P2200_13F/downloads/TheBasicsofCProgramming-draft-20131030.pdf" target="_blank" rel="noopener noreferrer">The Basics of C Programming</a> - Marshall Brain (PDF)</li><li><a href="http://publications.gbdirect.co.uk/c_book/" target="_blank" rel="noopener noreferrer">The C book</a> - Mike Banahan, Declan Brady, Mark Doran (PDF, HTML)</li><li><a href="https://flaviocopes.com/page/c-handbook/" target="_blank" rel="noopener noreferrer">The C Programming Language Handbook</a> - Flavio Copes (PDF, EPUB, Kindle) <em>(email address requested)</em></li><li><a href="https://web.archive.org/web/20181230041359/http://www.open-std.org/jtc1/sc22/wg14/www/abq/c17_updated_proposed_fdis.pdf" target="_blank" rel="noopener noreferrer">The Current C Programming Language Standard ‚Äì ISO/IEC 9899:2018 (C17/C18), Draft</a> - Open Standards Org - <a href="http://www.open-std.org/" target="_blank" rel="noopener noreferrer">www.open-std.org</a> (PDF) <em>( üóÉÔ∏è archived)</em></li><li><a href="http://www.crasseux.com/books/ctut.pdf" target="_blank" rel="noopener noreferrer">The GNU C Programming Tutorial</a> - Mark Burgess, Ron Hale-Evans (PDF)</li><li><a href="https://www.gnu.org/software/gnu-c-manual/gnu-c-manual.html" target="_blank" rel="noopener noreferrer">The GNU C Reference Manual</a> - Trevis Rothwell, James Youngman (HTML) <a href="https://www.gnu.org/software/gnu-c-manual/gnu-c-manual.pdf" target="_blank" rel="noopener noreferrer">(PDF)</a></li><li><a href="http://littleosbook.github.io/" target="_blank" rel="noopener noreferrer">The little book about OS development</a> - Erik Helin, Adam Renberg</li><li><a href="http://www.knosof.co.uk/cbook/cbook.html" target="_blank" rel="noopener noreferrer">The New C Standard - An Economic and Cultural commentary (2009)</a> - Derek M. Jones (PDF)</li><li><a href="http://www.coranac.com/tonc/text/toc.htm" target="_blank" rel="noopener noreferrer">TONC GBA Programming - Game Boy Advance Development</a></li></ul></blockquote><h2 class="anchor anchorWithStickyNavbar_DXrL" id="rss">RSS<a class="hash-link" href="#rss" title="Direct link to heading">‚Äã</a></h2><blockquote><p>TODO List to review later</p></blockquote><p>2025-10-03 <a href="https://nullprogram.com/blog/2018/07/31/" target="_blank" rel="noopener noreferrer">Prospecting for Hash Functions</a> { nullprogram.com }</p><h2 class="anchor anchorWithStickyNavbar_DXrL" id="dev-c-tools">Dev C Tools<a class="hash-link" href="#dev-c-tools" title="Direct link to heading">‚Äã</a></h2><ul><li>2022-03-07 <a href="https://github.com/clibs/clib" target="_blank" rel="noopener noreferrer">clibs/clib: C package manager-ish</a></li></ul><blockquote><p>Package manager for the C programming language.</p></blockquote><h2 class="anchor anchorWithStickyNavbar_DXrL" id="dev-c-libs">Dev C Libs<a class="hash-link" href="#dev-c-libs" title="Direct link to heading">‚Äã</a></h2><h3 class="anchor anchorWithStickyNavbar_DXrL" id="net">Net<a class="hash-link" href="#net" title="Direct link to heading">‚Äã</a></h3><p>2023-05-17 <a href="https://www.dpdk.org/" target="_blank" rel="noopener noreferrer">Home - DPDK</a></p><blockquote><p>2023-05-17 <a href="https://github.com/DPDK/dpdk" target="_blank" rel="noopener noreferrer">DPDK/dpdk: Data Plane Development Kit</a></p><p>DPDK (Data Plane Development Kit) is an open-source software project that provides a set of libraries and drivers for fast packet processing in user space. Its main goal is to increase the performance of packet processing applications running on standard computing platforms. The project is hosted and can be accessed at <a href="http://www.dpdk.org/" target="_blank" rel="noopener noreferrer">www.dpdk.org</a>. It&#x27;s widely used in network interface cards, routers, firewalls, and other networking appliances.</p></blockquote><h3 class="anchor anchorWithStickyNavbar_DXrL" id="c-language-development">C language development<a class="hash-link" href="#c-language-development" title="Direct link to heading">‚Äã</a></h3><ul><li>2022-03-05 <a href="https://libcello.org/" target="_blank" rel="noopener noreferrer">Cello ‚Ä¢ High Level C</a></li></ul><blockquote><p>Cello is a library that brings higher level programming to C.
New C syntax for New Era!</p></blockquote><div class="codeBlockContainer_aLwb language-c theme-code-block"><div class="codeBlockContent_INfL c"><pre tabindex="0" class="prism-code language-c codeBlock_HyjA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_v42P"><span class="token-line" style="color:#393A34"><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">include</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property string" style="color:#e3116c">&quot;Cello.h&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">main</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> argc</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">char</span><span class="token operator" style="color:#393A34">*</span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> argv</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">/* Stack objects are created using &quot;$&quot; */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  var i0 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> $</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Int</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  var i1 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> $</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Int</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  var i2 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> $</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Int</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">/* Heap objects are created using &quot;new&quot; */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  var items </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">new</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Array</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Int</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> i0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> i1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> i2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">/* Collections can be looped over */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">foreach</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">item in items</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Object %$ is of type %$\n&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      item</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">type_of</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">item</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">/* Heap objects destructed via Garbage Collection */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_n_1r clean-btn">Copy</button></div></div><ul><li>2022-03-16 <a href="http://libmill.org/index.html" target="_blank" rel="noopener noreferrer">libmill</a> Libmill is a library that introduces Go-style concurrency to C</li></ul><div class="codeBlockContainer_aLwb language-c theme-code-block"><div class="codeBlockContent_INfL c"><pre tabindex="0" class="prism-code language-c codeBlock_HyjA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_v42P"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">go</span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">foo</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">arg1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> arg2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> arg3</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">chan ch </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">chmake</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">int</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">chan ch </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">chmake</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">int</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1000</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">chs</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ch</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">int</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">42</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_n_1r clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_DXrL" id="simd">SIMD<a class="hash-link" href="#simd" title="Direct link to heading">‚Äã</a></h3><ul><li>2022-05-01 <code>simd</code> <a href="https://lemire.me/blog/2022/04/28/removing-characters-from-strings-faster-with-avx-512/" target="_blank" rel="noopener noreferrer">Removing characters from strings faster with AVX-512 ‚Äì Daniel Lemire&#x27;s blog</a></li></ul><blockquote><p>A computer science professor at the University of Quebec (TELUQ). View all posts by Daniel Lemire</p></blockquote><ul><li><p><a href="https://github.com/DragonSpit/HPCsharp" target="_blank" rel="noopener noreferrer">DragonSpit/HPCsharp: High performance algorithms in C#: SIMD/SSE, multi-core and faster</a></p></li><li><p>(2021-09-26) <a href="https://github.com/google/highway" target="_blank" rel="noopener noreferrer">google/highway: Performance-portable, length-agnostic SIMD with runtime dispatch</a></p></li><li><p>(2021-12-26) <a href="https://blog.tinybird.co/2021/12/14/simd/" target="_blank" rel="noopener noreferrer">Splitting CSV files at 3GB/s ¬∑ Tinybird</a> with SIMD! Good C lang examples on this topic.</p></li><li><p>2023-06-02 <a href="https://cvw.cac.cornell.edu/vector/overview_simd" target="_blank" rel="noopener noreferrer">Cornell Virtual Workshop: SIMD Parallelism</a></p></li></ul><blockquote><p>SIMD stands for &quot;Single Instruction Multiple Data,&quot; and is one of <a href="https://cvw.cac.cornell.edu/parallel/tax.aspx" target="_blank" rel="noopener noreferrer">several approaches to parallelism</a> found in modern high-performance computing.</p><p>Vector instructions are a primary example of SIMD parallelism in modern CPUs. For instance, the vector add instruction is a single instruction (add) that acts on multiple data (vectors) to yield a vector of sums. Given the two vectors <code>(1, 2, 3, 4)</code> and <code>(5, 6, 7, 8)</code>, the vector result <code>(6, 8, 10, 12)</code> is produced in a single operation. This operation is illustrated in the diagram and linked video below.</p></blockquote><blockquote><p><img alt="image-20230608160855199" src="/assets/images/image-20230608160855199-ccb0328a737c5ff4cb9f77dcb1aa4c73.png" width="1243" height="1053"></p></blockquote><p>2023-07-02 <a href="https://lemire.me/blog/2023/07/01/parsing-time-stamps-faster-with-simd-instructions/" target="_blank" rel="noopener noreferrer">Parsing time stamps faster with SIMD instructions ‚Äì Daniel Lemire&#x27;s blog</a></p><p>Standard:</p><div class="codeBlockContainer_aLwb language-c theme-code-block"><div class="codeBlockContent_INfL c"><pre tabindex="0" class="prism-code language-c codeBlock_HyjA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_v42P"><span class="token-line" style="color:#393A34"><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">include</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property string" style="color:#e3116c">&lt;time.h&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">include</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property string" style="color:#e3116c">&lt;stdio.h&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">main</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">char</span><span class="token plain"> buffer</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">15</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">struct</span><span class="token plain"> </span><span class="token class-name">tm</span><span class="token plain"> timeinfo</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token class-name">time_t</span><span class="token plain"> rawtime</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">time</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">rawtime</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">gmtime_r</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">rawtime</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">timeinfo</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token class-name">size_t</span><span class="token plain"> len </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">strftime</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">buffer</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">15</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;%Y%m%d%H%M%S&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">timeinfo</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  buffer</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">14</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token char">&#x27;\0&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">puts</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">buffer</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_n_1r clean-btn">Copy</button></div></div><p>SIMD:</p><div class="codeBlockContainer_aLwb language-c theme-code-block"><div class="codeBlockContent_INfL c"><pre tabindex="0" class="prism-code language-c codeBlock_HyjA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_v42P"><span class="token-line" style="color:#393A34"><span class="token plain"> __m128i v </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">_mm_loadu_si128</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> __m128i </span><span class="token operator" style="color:#393A34">*</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">date_string</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">v </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">_mm_sub_epi8</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">v</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">_mm_set1_epi8</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0x30</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">__m128i limit </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">_mm_setr_epi8</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">9</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">9</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">9</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">9</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">9</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">9</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">9</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">9</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">9</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">__m128i abide_by_limits </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">_mm_subs_epu8</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">v</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> limit</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// must be all zero</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> __m128i weights </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">_mm_setr_epi8</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">v </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">_mm_maddubs_epi16</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">v</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> weights</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">__m128i limit16 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">_mm_setr_epi16</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">99</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">99</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">12</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">31</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">23</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">59</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">59</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">__m128i abide_by_limits16 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">_mm_subs_epu16</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">v</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> limit16</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">__m128i limits </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">_mm_or_si128</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">abide_by_limits16</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">abide_by_limits</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">!</span><span class="token function" style="color:#d73a49">_mm_test_all_zeros</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">limits</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> limits</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> false</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_n_1r clean-btn">Copy</button></div></div><table><thead><tr><th align="left">instructions per stamp</th><th align="left">time per stamp</th><th></th></tr></thead><tbody><tr><td align="left">standard C with <code>strptime</code></td><td align="left">700</td><td>46</td></tr><tr><td align="left">SIMD approach</td><td align="left">65</td><td>7.9</td></tr></tbody></table></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/dzharii/dzharii.github.io/docs/dev-c99.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_sc9w" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_Tebc"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/dev-c99-video-content-creators"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">dev-c99-video-content-creators</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/dev-cpp-snippets"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">dev-cpp-snippets</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_VRyP thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#compilation-and-warnings" class="table-of-contents__link toc-highlight">Compilation and warnings</a></li><li><a href="#video" class="table-of-contents__link toc-highlight">Video</a></li><li><a href="#c99-reimplement-this-world" class="table-of-contents__link toc-highlight">C99 Reimplement this world!</a></li><li><a href="#dev-c-articles" class="table-of-contents__link toc-highlight">Dev C Articles</a></li><li><a href="#books" class="table-of-contents__link toc-highlight">Books</a></li><li><a href="#rss" class="table-of-contents__link toc-highlight">RSS</a></li><li><a href="#dev-c-tools" class="table-of-contents__link toc-highlight">Dev C Tools</a></li><li><a href="#dev-c-libs" class="table-of-contents__link toc-highlight">Dev C Libs</a><ul><li><a href="#net" class="table-of-contents__link toc-highlight">Net</a></li><li><a href="#c-language-development" class="table-of-contents__link toc-highlight">C language development</a></li><li><a href="#simd" class="table-of-contents__link toc-highlight">SIMD</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/intro">Wiki</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Disclaimer: The content on this website is my personal work and reflects my own views and opinions. 
            It is not associated with or endorsed by any of my past, current, or future employers. This site contains links to external websites and compiled pages from various sources. 
            I do not claim any rights or responsibility for the content of these external materials. 
            All content is provided "AS IS" without any guarantees or warranties.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.fb6bfe02.js"></script>
<script src="/assets/js/main.df44fa31.js"></script>
</body>
</html>