"use strict";(self.webpackChunkzharii=self.webpackChunkzharii||[]).push([[7607],{96080:function(n,e,t){t.d(e,{Zo:function(){return p},kt:function(){return m}});var r=t(667);function o(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function a(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,r)}return t}function i(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?a(Object(t),!0).forEach((function(e){o(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}function s(n,e){if(null==n)return{};var t,r,o=function(n,e){if(null==n)return{};var t,r,o={},a=Object.keys(n);for(r=0;r<a.length;r++)t=a[r],e.indexOf(t)>=0||(o[t]=n[t]);return o}(n,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(r=0;r<a.length;r++)t=a[r],e.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(n,t)&&(o[t]=n[t])}return o}var l=r.createContext({}),c=function(n){var e=r.useContext(l),t=e;return n&&(t="function"==typeof n?n(e):i(i({},e),n)),t},p=function(n){var e=c(n.components);return r.createElement(l.Provider,{value:e},n.children)},d={inlineCode:"code",wrapper:function(n){var e=n.children;return r.createElement(r.Fragment,{},e)}},u=r.forwardRef((function(n,e){var t=n.components,o=n.mdxType,a=n.originalType,l=n.parentName,p=s(n,["components","mdxType","originalType","parentName"]),u=c(t),m=o,f=u["".concat(l,".").concat(m)]||u[m]||d[m]||a;return t?r.createElement(f,i(i({ref:e},p),{},{components:t})):r.createElement(f,i({ref:e},p))}));function m(n,e){var t=arguments,o=e&&e.mdxType;if("string"==typeof n||o){var a=t.length,i=new Array(a);i[0]=u;var s={};for(var l in e)hasOwnProperty.call(e,l)&&(s[l]=e[l]);s.originalType=n,s.mdxType="string"==typeof n?n:o,i[1]=s;for(var c=2;c<a;c++)i[c]=t[c];return r.createElement.apply(null,i)}return r.createElement.apply(null,t)}u.displayName="MDXCreateElement"},89526:function(n,e,t){t.r(e),t.d(e,{frontMatter:function(){return s},contentTitle:function(){return l},metadata:function(){return c},toc:function(){return p},default:function(){return u}});var r=t(54570),o=t(89462),a=(t(667),t(96080)),i=["components"],s={},l="\ud83d\udccc\ud83d\udd22 bookmarklets-chatgpt",c={unversionedId:"bookmarklets-chatgpt",id:"bookmarklets-chatgpt",title:"\ud83d\udccc\ud83d\udd22 bookmarklets-chatgpt",description:"Date: 2026-01-04",source:"@site/docs/bookmarklets-chatgpt.md",sourceDirName:".",slug:"/bookmarklets-chatgpt",permalink:"/docs/bookmarklets-chatgpt",editUrl:"https://github.com/dzharii/dzharii.github.io/docs/bookmarklets-chatgpt.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"\ud83e\udd16 Bookmarks: My GPT/AI Prompts",permalink:"/docs/bookmark-my-GPT-prompts"},next:{title:"\ud83d\udcdc BookmarkLETS",permalink:"/docs/bookmarklets"}},p=[{value:"\ud83c\udff5\ufe0f2025 GPT Transcript no fluff no cliches",id:"\ufe0f2025-gpt-transcript-no-fluff-no-cliches",children:[],level:2},{value:"2026 \ud83c\udf54 GPT Quick Prompt UI Enhanced",id:"2026--gpt-quick-prompt-ui-enhanced",children:[],level:2},{value:"2026 \ud83c\udf54 GPT Quick Prompt UI Enhanced",id:"2026--gpt-quick-prompt-ui-enhanced-1",children:[],level:2},{value:"2026 Copilot UI Alternative -- Enhanced",id:"2026-copilot-ui-alternative----enhanced",children:[],level:2}],d={toc:p};function u(n){var e=n.components,t=(0,o.Z)(n,i);return(0,a.kt)("wrapper",(0,r.Z)({},d,t,{components:e,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"-bookmarklets-chatgpt"},"\ud83d\udccc\ud83d\udd22 bookmarklets-chatgpt"),(0,a.kt)("p",null,"Date: 2026-01-04"),(0,a.kt)("h2",{id:"\ufe0f2025-gpt-transcript-no-fluff-no-cliches"},"\ud83c\udff5\ufe0f2025 GPT Transcript no fluff no cliches"),(0,a.kt)("p",null,"2026-01-04\n2026-01-04"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},'javascript:(function() {\n  var currentUrl = window.location.href;\n  var prompt = [\n    "You are given a transcript of a YouTube video at:\\n",\n    currentUrl, "\\n\\n",\n    "Analyze it and extract all the main ideas.\\n\\n",\n    "Write a series of short paragraphs, each paragraph expressing one main idea in clear, simple language.\\n",\n    "Do not add fluff, filler, cliches, or commentary.\\n",\n    "Do not summarize loosely; capture all essential concepts and arguments from the transcript.\\n\\n",\n    "Avoid repeating key labels and names too often; when possible, use pronouns or rephrase instead of repeating the same term.\\n\\n",\n    "When you introduce an important abstract word or key concept, you may add a single Markdown block quote right after the paragraph that defines that word in one very simple sentence.\\n\\n",\n    "Do not use titles, headings, numbered lists, or bullet lists.\\n",\n    "Output only the paragraphs and occasional block quotes, as plain text.\\n\\n",\n    "Wait for transcript content."\n  ].join(\'\');\n  var newUrl = "https://chatgpt.com/?q=" + encodeURIComponent(prompt);\n  window.open(newUrl, "_blank");\n})();\n\n')),(0,a.kt)("h2",{id:"2026--gpt-quick-prompt-ui-enhanced"},"2026 \ud83c\udf54 GPT Quick Prompt UI Enhanced"),(0,a.kt)("p",null,"2026-01-04"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Shows a draggable popup; running the bookmarklet again closes it."),(0,a.kt)("li",{parentName:"ul"},'Provides a prompt dropdown built from base prompts and auto-adds a "temporary chat" variant for each.'),(0,a.kt)("li",{parentName:"ul"},"Takes input in a textarea, continuously generates the corresponding ChatGPT URL, displays it, and lets you open it in a new tab or clear the text."),(0,a.kt)("li",{parentName:"ul"},"Supports inline keyboard commands in the textarea to switch prompts (for example ",(0,a.kt)("inlineCode",{parentName:"li"},"!g"),", ",(0,a.kt)("inlineCode",{parentName:"li"},"!search"),") and to toggle the temporary variant (",(0,a.kt)("inlineCode",{parentName:"li"},"!temp"),"), removing the command from the text."),(0,a.kt)("li",{parentName:"ul"},"On open, pulls the current page selection into the textarea, trimming it and collapsing whitespace, with the caret placed at the end.")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},'javascript:(function () {\n  "use strict";\n\n  const EXT_ID = "dgpt_duo_popup_v1";\n\n  const existing = document.getElementById(EXT_ID);\n  if (existing) {\n    existing.remove();\n    return;\n  }\n\n  const trashEmoji = "\\u{1F5D1}\\uFE0F";\n\n  function clamp(value, min, max) {\n    return Math.max(min, Math.min(max, value));\n  }\n\n  function normalizeSelectionText(raw) {\n    const s = String(raw || "");\n    return s.replace(/\\s+/g, " ").trim();\n  }\n\n  function getPageSelectionText() {\n    try {\n      const sel = window.getSelection ? window.getSelection() : null;\n      if (!sel) return "";\n      const text = sel.toString ? sel.toString() : "";\n      return normalizeSelectionText(text);\n    } catch (_) {\n      return "";\n    }\n  }\n\n  function createPromptCatalog(basePrompts, opts) {\n    const trash = (opts && opts.trashEmoji) || "";\n    const prompts = [];\n    const indexById = new Map();\n    const tempIdByBaseId = new Map();\n    const baseIdByTempId = new Map();\n    const aliasToBaseId = new Map();\n\n    function normalizeToken(s) {\n      return String(s || "")\n        .trim()\n        .toLowerCase()\n        .replace(/\\s+/g, "");\n    }\n\n    function coreTitleFromBaseTitle(title, shortTitle) {\n      const t = String(shortTitle || title || "").trim();\n      const withoutDefault = t.replace(/\\s*\\(default\\)\\s*$/i, "").trim();\n      const firstClause = withoutDefault.split(",")[0].trim();\n      return firstClause || withoutDefault || t;\n    }\n\n    function makeTempTitle(base) {\n      const core = coreTitleFromBaseTitle(base.title, base.shortTitle);\n      return `${trash} ${core} (temporary chat)`.trim();\n    }\n\n    function addPrompt(p) {\n      const idx = prompts.length;\n      prompts.push(p);\n      indexById.set(p.id, idx);\n    }\n\n    for (const bp of basePrompts) {\n      if (!bp || !bp.id) continue;\n\n      const base = {\n        id: String(bp.id),\n        title: String(bp.title || bp.id),\n        shortTitle: bp.shortTitle,\n        prepend: String(bp.prepend || ""),\n        append: String(bp.append || ""),\n        params: Object.assign({}, bp.params || {}),\n        aliases: Array.isArray(bp.aliases) ? bp.aliases.slice() : [],\n        tempable: bp.tempable !== false,\n      };\n\n      addPrompt(base);\n\n      const baseAliases = new Set([base.id, ...base.aliases].map(normalizeToken).filter(Boolean));\n      for (const a of baseAliases) aliasToBaseId.set(a, base.id);\n\n      if (base.tempable) {\n        const alreadyTemp = Object.prototype.hasOwnProperty.call(base.params, "temporary-chat");\n        const tempId = `${base.id}:temp`;\n\n        const temp = {\n          id: tempId,\n          title: makeTempTitle(base),\n          prepend: base.prepend,\n          append: base.append,\n          params: Object.assign({}, base.params, alreadyTemp ? {} : { "temporary-chat": "true" }),\n          aliases: [],\n          tempable: false,\n          baseId: base.id,\n        };\n\n        addPrompt(temp);\n        tempIdByBaseId.set(base.id, tempId);\n        baseIdByTempId.set(tempId, base.id);\n      }\n    }\n\n    return {\n      prompts,\n      indexById,\n      tempIdByBaseId,\n      baseIdByTempId,\n      aliasToBaseId,\n    };\n  }\n\n  function createInlineCommandExpander(opts) {\n    const el = opts && opts.element;\n    if (!el) throw new Error("createInlineCommandExpander: missing element");\n\n    const prefixes = new Set((opts.prefixes || ["!"]).map(String));\n    const commitKeys = new Set((opts.commitKeys || [" ", "Enter"]).map(String));\n    const maxCommandLen = Number.isFinite(opts.maxCommandLen) ? opts.maxCommandLen : 24;\n    const tokenChars = opts.tokenChars || /^[a-z0-9_-]+$/i;\n\n    function findCommandAtCursor(value, cursor) {\n      const startScan = Math.max(0, cursor - (maxCommandLen + 1) - 32);\n      for (let i = cursor - 1; i >= startScan; i--) {\n        const ch = value[i];\n        if (!prefixes.has(ch)) continue;\n\n        const cmd = value.slice(i + 1, cursor);\n        if (!cmd) return null;\n        if (cmd.length > maxCommandLen) return null;\n        if (/\\s/.test(cmd)) return null;\n        if (!tokenChars.test(cmd)) return null;\n\n        return { start: i, end: cursor, raw: ch + cmd, cmdLower: cmd.toLowerCase(), prefix: ch };\n      }\n      return null;\n    }\n\n    function replaceRangeKeepCaret(value, start, end, insert, newCaret) {\n      const next = value.slice(0, start) + insert + value.slice(end);\n      return { next, newCaret: typeof newCaret === "number" ? newCaret : start + insert.length };\n    }\n\n    function setValueAndCaret(nextValue, caretPos) {\n      el.value = nextValue;\n      el.setSelectionRange(caretPos, caretPos);\n      el.dispatchEvent(new Event("input", { bubbles: true }));\n    }\n\n    function onKeyDown(e) {\n      if (e.isComposing) return;\n      if (!commitKeys.has(e.key)) return;\n\n      const selStart = el.selectionStart;\n      const selEnd = el.selectionEnd;\n      if (selStart !== selEnd) return;\n\n      const value = el.value || "";\n      const token = findCommandAtCursor(value, selStart);\n      if (!token) return;\n\n      const state = typeof opts.getState === "function" ? opts.getState() : {};\n      const action = typeof opts.resolveAction === "function" ? opts.resolveAction(token.cmdLower, state) : null;\n      if (!action) return;\n\n      e.preventDefault();\n\n      const keepDelimiter = opts.keepDelimiter !== false;\n      const delimiter = keepDelimiter ? (e.key === "Enter" ? "\\n" : " ") : "";\n      const r = replaceRangeKeepCaret(value, token.start, token.end, delimiter, token.start + delimiter.length);\n\n      setValueAndCaret(r.next, r.newCaret);\n\n      if (typeof opts.onAction === "function") {\n        opts.onAction(action, state);\n      }\n    }\n\n    el.addEventListener("keydown", onKeyDown);\n\n    return {\n      destroy() {\n        el.removeEventListener("keydown", onKeyDown);\n      },\n    };\n  }\n\n  function createHost() {\n    const host = document.createElement("div");\n    host.id = EXT_ID;\n\n    host.style.position = "fixed";\n    host.style.left = "24px";\n    host.style.top = "24px";\n    host.style.zIndex = "2147483647";\n\n    document.documentElement.appendChild(host);\n    return host;\n  }\n\n  function createUI(wrap) {\n    const doc = wrap.ownerDocument || document;\n\n    const el = (tag, className, attrs, children) => {\n      const n = doc.createElement(tag);\n\n      if (className) n.className = className;\n\n      if (attrs) {\n        for (const [k, v] of Object.entries(attrs)) {\n          if (v === undefined || v === null) continue;\n          if (k === "text") n.textContent = String(v);\n          else if (k === "html") n.innerHTML = String(v);\n          else n.setAttribute(k, String(v));\n        }\n      }\n\n      if (children) {\n        for (const c of children) {\n          if (c === undefined || c === null) continue;\n          n.appendChild(typeof c === "string" ? doc.createTextNode(c) : c);\n        }\n      }\n\n      return n;\n    };\n\n    const win = el("div", "dgpt-win", { role: "dialog", "aria-label": "ChatGPT launcher" });\n\n    const titlebar = el("div", "dgpt-titlebar", { "data-drag": "1" });\n    const title = el("div", "dgpt-title", { text: "ChatGPT" });\n    const btnClose = el("button", "dgpt-close", {\n      type: "button",\n      "aria-label": "Close",\n      title: "Close",\n      text: "\xd7",\n    });\n    titlebar.append(title, btnClose);\n\n    const body = el("div", "dgpt-body");\n\n    const row = el("div", "dgpt-row");\n    const label = el("div", "dgpt-label", { text: "Prompt" });\n    const select = el("select", "dgpt-select", { "aria-label": "Prompt selector" });\n    row.append(label, select);\n\n    const textarea = el("textarea", "dgpt-textarea", {\n      "aria-label": "Your text",\n      placeholder: "Type here...",\n    });\n\n    const urlRow = el("div", "dgpt-url-row");\n    const urlBox = el("div", "dgpt-url", { "aria-label": "Generated URL" });\n    const linkOpen = el("a", "dgpt-btn dgpt-primary", {\n      target: "_blank",\n      rel: "noopener noreferrer",\n      text: "ChatGPT \u2192",\n    });\n    urlRow.append(urlBox, linkOpen);\n\n    body.append(row, textarea, urlRow);\n    win.append(titlebar, body);\n    wrap.appendChild(win);\n\n    return { win, titlebar, btnClose, select, textarea, linkOpen, urlBox };\n  }\n\n  function createShadowUI(host) {\n    const shadow = host.attachShadow({ mode: "open" });\n\n    const style = document.createElement("style");\n    style.textContent = `\n:host { all: initial; }\n* { box-sizing: border-box; }\n\n.dgpt-wrap {\n  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;\n  font-size: 14px;\n  color: #111827;\n}\n\n.dgpt-win {\n  width: 420px;\n  max-width: min(92vw, 520px);\n  background: #ffffff;\n  border-radius: 18px;\n  overflow: hidden;\n  border: 2px solid rgba(17, 24, 39, 0.08);\n  box-shadow:\n    0 10px 24px rgba(0, 0, 0, 0.16),\n    0 2px 8px rgba(0, 0, 0, 0.08);\n}\n\n.dgpt-titlebar {\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 6px 12px;\n  background: linear-gradient(135deg, #6d28d9 0%, #8b5cf6 50%, #a78bfa 100%);\n  color: #ffffff;\n  cursor: grab;\n  user-select: none;\n}\n\n.dgpt-titlebar::after {\n  content: "";\n  position: absolute;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  height: 1px;\n  background: rgba(255, 255, 255, 0.25);\n}\n\n.dgpt-title {\n  font-weight: 700;\n  letter-spacing: 0.3px;\n  font-size: 13px;\n  line-height: 1;\n  text-align: center;\n  white-space: nowrap;\n  text-shadow: 0 1px 2px rgba(0,0,0,0.1);\n}\n\n.dgpt-close {\n  position: absolute;\n  right: 8px;\n  top: 50%;\n  transform: translateY(-50%);\n  width: 22px;\n  height: 22px;\n  border-radius: 6px;\n  border: 1px solid rgba(255, 255, 255, 0.35);\n  background: rgba(255, 255, 255, 0.18);\n  color: #ffffff;\n  cursor: pointer;\n\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n\n  font-weight: 700;\n  font-size: 14px;\n  line-height: 1;\n  transition: background 0.15s ease;\n}\n\n.dgpt-close:hover { background: rgba(255, 255, 255, 0.28); }\n.dgpt-close:active { transform: translateY(-50%) translateY(1px); }\n\n.dgpt-body {\n  padding: 14px;\n  background: #ffffff;\n}\n\n.dgpt-row {\n  display: flex;\n  gap: 10px;\n  align-items: center;\n  margin-bottom: 10px;\n}\n\n.dgpt-label {\n  font-weight: normal;\n  color: #374151;\n  font-size: 12px;\n  letter-spacing: 0.2px;\n}\n\n.dgpt-select {\n  width: 100%;\n  padding: 10px 12px;\n  border-radius: 14px;\n  border: 2px solid rgba(17, 24, 39, 0.10);\n  background: #f6f7fb;\n  color: #111827;\n  font-weight: normal;\n  outline: none;\n}\n\n.dgpt-select:focus {\n  border-color: rgba(124, 58, 237, 0.55);\n  box-shadow: 0 0 0 4px rgba(124, 58, 237, 0.16);\n  background: #ffffff;\n}\n\n.dgpt-textarea {\n  width: 100%;\n  min-height: 170px;\n  resize: vertical;\n  padding: 12px;\n  border-radius: 16px;\n  border: 2px solid rgba(17, 24, 39, 0.10);\n  background: #ffffff;\n  outline: none;\n  line-height: 1.4;\n}\n\n.dgpt-textarea:focus {\n  border-color: rgba(124, 58, 237, 0.55);\n  box-shadow: 0 0 0 4px rgba(124, 58, 237, 0.16);\n}\n\n.dgpt-url-row {\n  display: flex;\n  gap: 10px;\n  align-items: stretch;\n  margin-top: 12px;\n}\n\n.dgpt-btn {\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  text-decoration: none;\n  padding: 10px 14px;\n  border-radius: 14px;\n  font-weight: normal;\n  cursor: pointer;\n  user-select: none;\n  flex-shrink: 0;\n\n  border: 2px solid rgba(17, 24, 39, 0.12);\n  box-shadow: 0 2px 0 rgba(17, 24, 39, 0.10);\n  transition: background 0.15s ease, box-shadow 0.15s ease;\n}\n\n.dgpt-btn:active { transform: translateY(1px); box-shadow: 0 1px 0 rgba(17, 24, 39, 0.10); }\n\n.dgpt-primary {\n  background: linear-gradient(180deg, #fef08a 0%, #fde047 50%, #facc15 100%);\n  border-color: rgba(161, 98, 7, 0.25);\n  color: #78350f;\n  font-weight: 500;\n  box-shadow: 0 2px 0 rgba(161, 98, 7, 0.15), 0 1px 3px rgba(0,0,0,0.08);\n}\n\n.dgpt-primary:hover { filter: brightness(1.04); box-shadow: 0 2px 0 rgba(161, 98, 7, 0.2), 0 2px 6px rgba(0,0,0,0.1); }\n\n.dgpt-url {\n  flex: 1;\n  padding: 10px 12px;\n  border-radius: 14px;\n  background: #f6f7fb;\n  border: 1px solid rgba(17, 24, 39, 0.08);\n  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;\n  font-size: 11px;\n  color: #374151;\n  overflow: auto;\n  max-height: 80px;\n  word-wrap: break-word;\n}\n    `.trim();\n\n    const wrap = document.createElement("div");\n    wrap.className = "dgpt-wrap";\n\n    shadow.appendChild(style);\n    shadow.appendChild(wrap);\n\n    const ui = createUI(wrap);\n    return ui;\n  }\n\n  function attachDragBehavior(host, win, titlebar) {\n    let dragging = false;\n    let startX = 0;\n    let startY = 0;\n    let startLeft = 0;\n    let startTop = 0;\n\n    function onMove(e) {\n      if (!dragging) return;\n\n      const dx = e.clientX - startX;\n      const dy = e.clientY - startY;\n\n      const rect = win.getBoundingClientRect();\n      const maxLeft = window.innerWidth - rect.width;\n      const maxTop = window.innerHeight - rect.height;\n\n      const nextLeft = clamp(startLeft + dx, 0, Math.max(0, maxLeft));\n      const nextTop = clamp(startTop + dy, 0, Math.max(0, maxTop));\n\n      host.style.left = `${nextLeft}px`;\n      host.style.top = `${nextTop}px`;\n    }\n\n    function onUp() {\n      if (!dragging) return;\n      dragging = false;\n      titlebar.style.cursor = "grab";\n      window.removeEventListener("mousemove", onMove, true);\n      window.removeEventListener("mouseup", onUp, true);\n    }\n\n    titlebar.addEventListener("mousedown", (e) => {\n      if (e.button !== 0) return;\n\n      dragging = true;\n      titlebar.style.cursor = "grabbing";\n\n      const hostRect = host.getBoundingClientRect();\n      startX = e.clientX;\n      startY = e.clientY;\n      startLeft = hostRect.left;\n      startTop = hostRect.top;\n\n      window.addEventListener("mousemove", onMove, true);\n      window.addEventListener("mouseup", onUp, true);\n    });\n  }\n\n  function main() {\n    const host = createHost();\n    const ui = createShadowUI(host);\n\n    const basePrompts = [\n      { id: "search", title: "Search (default)", prepend: "", append: "", params: { hints: "search" }, aliases: ["s", "search"] },\n      {\n        id: "grammar",\n        title: "Correct grammar, keep my style",\n        prepend: "Correct the grammar of the text below, but keep my style and tone. Only output the corrected text.\\n\\nText:\\n",\n        append: "",\n        params: {},\n        aliases: ["g", "gram", "grammar"],\n      },\n      {\n        id: "summarize",\n        title: "Summarize for engineers",\n        prepend: "Summarize the following for a software engineer. Be precise. Include key points and any assumptions.\\n\\nContent:\\n",\n        append: "",\n        params: {},\n        aliases: ["sum", "summarize"],\n      },\n      {\n        id: "email",\n        title: "Rewrite as concise professional email",\n        prepend: "Rewrite the following as a concise, strictly professional email. Keep it direct and clear.\\n\\nDraft:\\n",\n        append: "",\n        params: {},\n        aliases: ["mail", "email"],\n      },\n    ];\n\n    const catalog = createPromptCatalog(basePrompts, { trashEmoji });\n\n    for (let i = 0; i < catalog.prompts.length; i++) {\n      const p = catalog.prompts[i];\n      const opt = document.createElement("option");\n      opt.value = String(i);\n      opt.textContent = p.title;\n      ui.select.appendChild(opt);\n    }\n    ui.select.value = "0";\n\n    function getSelectedPrompt() {\n      const idxRaw = parseInt(ui.select.value, 10);\n      const idx = Number.isFinite(idxRaw) ? idxRaw : 0;\n      return catalog.prompts[clamp(idx, 0, catalog.prompts.length - 1)];\n    }\n\n    function buildUrl() {\n      const p = getSelectedPrompt();\n      const userText = ui.textarea.value || "";\n      const joined = (p.prepend || "") + userText + (p.append || "");\n\n      const base = "https://chatgpt.com/";\n      const qs = new URLSearchParams();\n\n      for (const [k, v] of Object.entries(p.params || {})) {\n        if (v === undefined || v === null) continue;\n        const s = String(v);\n        if (!s.length) continue;\n        qs.set(k, s);\n      }\n\n      qs.set("q", joined);\n\n      const url = `${base}?${qs.toString()}`;\n      ui.linkOpen.href = url;\n      ui.urlBox.textContent = url;\n    }\n\n    function selectPromptById(id) {\n      const idx = catalog.indexById.get(id);\n      if (typeof idx !== "number") return false;\n      ui.select.value = String(idx);\n      buildUrl();\n      return true;\n    }\n\n    function resolveAliasOrUniquePrefix(cmdLower) {\n      const exact = catalog.aliasToBaseId.get(cmdLower);\n      if (exact) return exact;\n\n      let found = null;\n      let count = 0;\n      for (const [alias, baseId] of catalog.aliasToBaseId.entries()) {\n        if (!alias.startsWith(cmdLower)) continue;\n        found = baseId;\n        count++;\n        if (count > 1) return null;\n      }\n      return count === 1 ? found : null;\n    }\n\n    function currentIds() {\n      const p = getSelectedPrompt();\n      const currentId = p.id;\n      const baseId = catalog.baseIdByTempId.get(currentId) || currentId;\n      const tempId = catalog.tempIdByBaseId.get(baseId) || null;\n      const isTemp = catalog.baseIdByTempId.has(currentId);\n      return { currentId, baseId, tempId, isTemp };\n    }\n\n    createInlineCommandExpander({\n      element: ui.textarea,\n      prefixes: ["!", "/", "@"],\n      commitKeys: [" ", "Enter"],\n      maxCommandLen: 24,\n      keepDelimiter: false,\n      getState: () => currentIds(),\n      resolveAction: (cmdLower, state) => {\n        if (cmdLower === "temp" || cmdLower === "t" || cmdLower === "tmp") {\n          if (!state || !state.tempId) return null;\n          return { type: "select", id: state.tempId };\n        }\n\n        const baseId = resolveAliasOrUniquePrefix(cmdLower);\n        if (!baseId) return null;\n\n        return { type: "select", id: baseId };\n      },\n      onAction: (action) => {\n        if (!action || action.type !== "select") return;\n        selectPromptById(action.id);\n      },\n    });\n\n    ui.select.addEventListener("change", buildUrl);\n    ui.textarea.addEventListener("input", buildUrl);\n\n    ui.btnClose.addEventListener("click", () => {\n      host.remove();\n    });\n\n    attachDragBehavior(host, ui.win, ui.titlebar);\n\n    const initial = getPageSelectionText();\n    if (initial) {\n      ui.textarea.value = initial;\n      ui.textarea.setSelectionRange(initial.length, initial.length);\n      ui.textarea.dispatchEvent(new Event("input", { bubbles: true }));\n    }\n\n    buildUrl();\n    ui.textarea.focus();\n  }\n\n  main();\n})();\n\n')),(0,a.kt)("h2",{id:"2026--gpt-quick-prompt-ui-enhanced-1"},"2026 \ud83c\udf54 GPT Quick Prompt UI Enhanced"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},'javascript:(function () {\n  "use strict";\n\n  const EXT_ID = "dgpt_duo_popup_v1";\n\n  const existing = document.getElementById(EXT_ID);\n  if (existing) {\n    console.log("no op!");\n    return;\n  }\n\n  const trashEmoji = "\\u{1F5D1}\\uFE0F";\n\n  const prompts = [\n    { title: "Search (default)", prepend: "", append: "", params: { hints: "search" } },\n    { title: `${trashEmoji} Search (temporary chat)`, prepend: "", append: "", params: { hints: "search", "temporary-chat": "true" } },\n    {\n      title: "Correct grammar, keep my style",\n      prepend: "Correct the grammar of the text below, but keep my style and tone. Only output the corrected text.\\n\\nText:\\n",\n      append: "",\n      params: {},\n    },\n    {\n      title: `${trashEmoji}Correct grammar (temporary chat)`,\n      prepend: "Correct the grammar of the text below, but keep my style and tone. Only output the corrected text.\\n\\nText:\\n",\n      append: "",\n      params: { "temporary-chat": "true" },\n    },\n    {\n      title: "Summarize for engineers",\n      prepend: "Summarize the following for a software engineer. Be precise. Include key points and any assumptions.\\n\\nContent:\\n",\n      append: "",\n      params: {},\n    },\n    {\n      title: "Rewrite as concise professional email",\n      prepend: "Rewrite the following as a concise, strictly professional email. Keep it direct and clear.\\n\\nDraft:\\n",\n      append: "",\n      params: {},\n    },\n  ];\n\n  function clamp(value, min, max) {\n    return Math.max(min, Math.min(max, value));\n  }\n\n  function createHost() {\n    const host = document.createElement("div");\n    host.id = EXT_ID;\n\n    host.style.position = "fixed";\n    host.style.left = "24px";\n    host.style.top = "24px";\n    host.style.zIndex = "2147483647";\n\n    document.documentElement.appendChild(host);\n    return host;\n  }\n\n  function createUI(wrap) {\n    const doc = wrap.ownerDocument || document;\n\n    const el = (tag, className, attrs, children) => {\n      const n = doc.createElement(tag);\n\n      if (className) n.className = className;\n\n      if (attrs) {\n        for (const [k, v] of Object.entries(attrs)) {\n          if (v === undefined || v === null) continue;\n          if (k === "text") n.textContent = String(v);\n          else if (k === "html") n.innerHTML = String(v);\n          else n.setAttribute(k, String(v));\n        }\n      }\n\n      if (children) {\n        for (const c of children) {\n          if (c === undefined || c === null) continue;\n          n.appendChild(typeof c === "string" ? doc.createTextNode(c) : c);\n        }\n      }\n\n      return n;\n    };\n\n    const win = el("div", "dgpt-win", { role: "dialog", "aria-label": "ChatGPT launcher" });\n\n    const titlebar = el("div", "dgpt-titlebar", { "data-drag": "1" });\n    const title = el("div", "dgpt-title", { text: "ChatGPT" });\n    const btnClose = el("button", "dgpt-close", {\n      type: "button",\n      "aria-label": "Close",\n      title: "Close",\n      text: "\xd7",\n    });\n    titlebar.append(title, btnClose);\n\n    const body = el("div", "dgpt-body");\n\n    const row = el("div", "dgpt-row");\n    const label = el("div", "dgpt-label", { text: "Prompt" });\n    const select = el("select", "dgpt-select", { "aria-label": "Prompt selector" });\n    row.append(label, select);\n\n    const textarea = el("textarea", "dgpt-textarea", {\n      "aria-label": "Your text",\n      placeholder: "Type here...",\n    });\n\n    const urlRow = el("div", "dgpt-url-row");\n    const urlBox = el("div", "dgpt-url", { "aria-label": "Generated URL" });\n    const linkOpen = el("a", "dgpt-btn dgpt-primary", {\n      target: "_blank",\n      rel: "noopener noreferrer",\n      text: "ChatGPT \u2192",\n    });\n    urlRow.append(urlBox, linkOpen);\n\n    body.append(row, textarea, urlRow);\n    win.append(titlebar, body);\n    wrap.appendChild(win);\n\n    return { win, titlebar, btnClose, select, textarea, linkOpen, urlBox };\n  }\n\n  function createShadowUI(host) {\n    const shadow = host.attachShadow({ mode: "open" });\n\n    const style = document.createElement("style");\n    style.textContent = `\n:host { all: initial; }\n* { box-sizing: border-box; }\n\n.dgpt-wrap {\n  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;\n  font-size: 14px;\n  color: #111827;\n}\n\n.dgpt-win {\n  width: 420px;\n  max-width: min(92vw, 520px);\n  background: #ffffff;\n  border-radius: 18px;\n  overflow: hidden;\n  border: 2px solid rgba(17, 24, 39, 0.08);\n  box-shadow:\n    0 10px 24px rgba(0, 0, 0, 0.16),\n    0 2px 8px rgba(0, 0, 0, 0.08);\n}\n\n.dgpt-titlebar {\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 6px 12px;\n  background: linear-gradient(135deg, #6d28d9 0%, #8b5cf6 50%, #a78bfa 100%);\n  color: #ffffff;\n  cursor: grab;\n  user-select: none;\n}\n\n.dgpt-titlebar::after {\n  content: "";\n  position: absolute;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  height: 1px;\n  background: rgba(255, 255, 255, 0.25);\n}\n\n.dgpt-title {\n  font-weight: 700;\n  letter-spacing: 0.3px;\n  font-size: 13px;\n  line-height: 1;\n  text-align: center;\n  white-space: nowrap;\n  text-shadow: 0 1px 2px rgba(0,0,0,0.1);\n}\n\n.dgpt-close {\n  position: absolute;\n  right: 8px;\n  top: 50%;\n  transform: translateY(-50%);\n  width: 22px;\n  height: 22px;\n  border-radius: 6px;\n  border: 1px solid rgba(255, 255, 255, 0.35);\n  background: rgba(255, 255, 255, 0.18);\n  color: #ffffff;\n  cursor: pointer;\n\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n\n  font-weight: 700;\n  font-size: 14px;\n  line-height: 1;\n  transition: background 0.15s ease;\n}\n\n.dgpt-close:hover { background: rgba(255, 255, 255, 0.28); }\n.dgpt-close:active { transform: translateY(-50%) translateY(1px); }\n\n.dgpt-body {\n  padding: 14px;\n  background: #ffffff;\n}\n\n.dgpt-row {\n  display: flex;\n  gap: 10px;\n  align-items: center;\n  margin-bottom: 10px;\n}\n\n.dgpt-label {\n  font-weight: normal;\n  color: #374151;\n  font-size: 12px;\n  letter-spacing: 0.2px;\n}\n\n.dgpt-select {\n  width: 100%;\n  padding: 10px 12px;\n  border-radius: 14px;\n  border: 2px solid rgba(17, 24, 39, 0.10);\n  background: #f6f7fb;\n  color: #111827;\n  font-weight: normal;\n  outline: none;\n}\n\n.dgpt-select:focus {\n  border-color: rgba(124, 58, 237, 0.55);\n  box-shadow: 0 0 0 4px rgba(124, 58, 237, 0.16);\n  background: #ffffff;\n}\n\n.dgpt-textarea {\n  width: 100%;\n  min-height: 170px;\n  resize: vertical;\n  padding: 12px;\n  border-radius: 16px;\n  border: 2px solid rgba(17, 24, 39, 0.10);\n  background: #ffffff;\n  outline: none;\n  line-height: 1.4;\n}\n\n.dgpt-textarea:focus {\n  border-color: rgba(124, 58, 237, 0.55);\n  box-shadow: 0 0 0 4px rgba(124, 58, 237, 0.16);\n}\n\n.dgpt-url-row {\n  display: flex;\n  gap: 10px;\n  align-items: stretch;\n  margin-top: 12px;\n}\n\n.dgpt-btn {\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  text-decoration: none;\n  padding: 10px 14px;\n  border-radius: 14px;\n  font-weight: normal;\n  cursor: pointer;\n  user-select: none;\n  flex-shrink: 0;\n\n  border: 2px solid rgba(17, 24, 39, 0.12);\n  box-shadow: 0 2px 0 rgba(17, 24, 39, 0.10);\n  transition: background 0.15s ease, box-shadow 0.15s ease;\n}\n\n.dgpt-btn:active { transform: translateY(1px); box-shadow: 0 1px 0 rgba(17, 24, 39, 0.10); }\n\n.dgpt-primary {\n  background: linear-gradient(180deg, #fef08a 0%, #fde047 50%, #facc15 100%);\n  border-color: rgba(161, 98, 7, 0.25);\n  color: #78350f;\n  font-weight: 500;\n  box-shadow: 0 2px 0 rgba(161, 98, 7, 0.15), 0 1px 3px rgba(0,0,0,0.08);\n}\n\n.dgpt-primary:hover { filter: brightness(1.04); box-shadow: 0 2px 0 rgba(161, 98, 7, 0.2), 0 2px 6px rgba(0,0,0,0.1); }\n\n.dgpt-url {\n  flex: 1;\n  padding: 10px 12px;\n  border-radius: 14px;\n  background: #f6f7fb;\n  border: 1px solid rgba(17, 24, 39, 0.08);\n  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;\n  font-size: 11px;\n  color: #374151;\n  overflow: auto;\n  max-height: 80px;\n  word-wrap: break-word;\n}\n    `.trim();\n\n    const wrap = document.createElement("div");\n    wrap.className = "dgpt-wrap";\n\n    shadow.appendChild(style);\n    shadow.appendChild(wrap);\n\n    const ui = createUI(wrap);\n    return ui;\n  }\n\n  function attachDragBehavior(host, win, titlebar) {\n    let dragging = false;\n    let startX = 0;\n    let startY = 0;\n    let startLeft = 0;\n    let startTop = 0;\n\n    function onMove(e) {\n      if (!dragging) return;\n\n      const dx = e.clientX - startX;\n      const dy = e.clientY - startY;\n\n      const rect = win.getBoundingClientRect();\n      const maxLeft = window.innerWidth - rect.width;\n      const maxTop = window.innerHeight - rect.height;\n\n      const nextLeft = clamp(startLeft + dx, 0, Math.max(0, maxLeft));\n      const nextTop = clamp(startTop + dy, 0, Math.max(0, maxTop));\n\n      host.style.left = `${nextLeft}px`;\n      host.style.top = `${nextTop}px`;\n    }\n\n    function onUp() {\n      if (!dragging) return;\n      dragging = false;\n      titlebar.style.cursor = "grab";\n      window.removeEventListener("mousemove", onMove, true);\n      window.removeEventListener("mouseup", onUp, true);\n    }\n\n    titlebar.addEventListener("mousedown", (e) => {\n      if (e.button !== 0) return;\n\n      dragging = true;\n      titlebar.style.cursor = "grabbing";\n\n      const hostRect = host.getBoundingClientRect();\n      startX = e.clientX;\n      startY = e.clientY;\n      startLeft = hostRect.left;\n      startTop = hostRect.top;\n\n      window.addEventListener("mousemove", onMove, true);\n      window.addEventListener("mouseup", onUp, true);\n    });\n  }\n\n  function main() {\n    const host = createHost();\n    const ui = createShadowUI(host);\n\n    prompts.forEach((p, i) => {\n      const opt = document.createElement("option");\n      opt.value = String(i);\n      opt.textContent = p.title;\n      ui.select.appendChild(opt);\n    });\n\n    ui.select.value = "0";\n\n    function getSelectedPrompt() {\n      const idxRaw = parseInt(ui.select.value, 10);\n      const idx = Number.isFinite(idxRaw) ? idxRaw : 0;\n      return prompts[clamp(idx, 0, prompts.length - 1)];\n    }\n\n    function buildUrl() {\n      const p = getSelectedPrompt();\n      const userText = ui.textarea.value || "";\n      const joined = (p.prepend || "") + userText + (p.append || "");\n\n      const base = "https://chatgpt.com/";\n      const qs = new URLSearchParams();\n\n      for (const [k, v] of Object.entries(p.params || {})) {\n        if (v === undefined || v === null) continue;\n        const s = String(v);\n        if (!s.length) continue;\n        qs.set(k, s);\n      }\n\n      qs.set("q", joined);\n\n      const url = `${base}?${qs.toString()}`;\n      ui.linkOpen.href = url;\n      ui.urlBox.textContent = url;\n    }\n\n    ui.select.addEventListener("change", buildUrl);\n    ui.textarea.addEventListener("input", buildUrl);\n\n    ui.btnClose.addEventListener("click", () => {\n      host.remove();\n    });\n\n    attachDragBehavior(host, ui.win, ui.titlebar);\n\n    buildUrl();\n    ui.textarea.focus();\n  }\n\n  main();\n})();\n\n')),(0,a.kt)("h2",{id:"2026-copilot-ui-alternative----enhanced"},"2026 Copilot UI Alternative -- Enhanced"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},'javascript:(function () {\n  "use strict";\n\n  const EXT_ID = "dcopilot_popup_v1";\n\n  const existing = document.getElementById(EXT_ID);\n  if (existing) {\n    existing.remove();\n    return;\n  }\n\n  function clamp(value, min, max) {\n    return Math.max(min, Math.min(max, value));\n  }\n\n  function normalizeSelectionText(raw) {\n    const s = String(raw || "");\n    return s.replace(/\\s+/g, " ").trim();\n  }\n\n  function getPageSelectionText() {\n    try {\n      const sel = window.getSelection ? window.getSelection() : null;\n      if (!sel) return "";\n      const text = sel.toString ? sel.toString() : "";\n      return normalizeSelectionText(text);\n    } catch (_) {\n      return "";\n    }\n  }\n\n  function createPromptCatalog(basePrompts) {\n    const prompts = [];\n    const indexById = new Map();\n    const aliasToId = new Map();\n\n    function normalizeToken(s) {\n      return String(s || "")\n        .trim()\n        .toLowerCase()\n        .replace(/\\s+/g, "");\n    }\n\n    function addPrompt(p) {\n      const idx = prompts.length;\n      prompts.push(p);\n      indexById.set(p.id, idx);\n\n      const aliases = new Set([p.id, ...(p.aliases || [])].map(normalizeToken).filter(Boolean));\n      for (const a of aliases) aliasToId.set(a, p.id);\n    }\n\n    for (const bp of basePrompts) {\n      if (!bp || !bp.id) continue;\n\n      addPrompt({\n        id: String(bp.id),\n        title: String(bp.title || bp.id),\n        shortTitle: bp.shortTitle,\n        prepend: String(bp.prepend || ""),\n        append: String(bp.append || ""),\n        params: Object.assign({}, bp.params || {}),\n        aliases: Array.isArray(bp.aliases) ? bp.aliases.slice() : [],\n      });\n    }\n\n    return { prompts, indexById, aliasToId };\n  }\n\n  function createInlineCommandExpander(opts) {\n    const el = opts && opts.element;\n    if (!el) throw new Error("createInlineCommandExpander: missing element");\n\n    const prefixes = new Set((opts.prefixes || ["!"]).map(String));\n    const commitKeys = new Set((opts.commitKeys || [" ", "Enter"]).map(String));\n    const maxCommandLen = Number.isFinite(opts.maxCommandLen) ? opts.maxCommandLen : 24;\n    const tokenChars = opts.tokenChars || /^[a-z0-9_-]+$/i;\n\n    function findCommandAtCursor(value, cursor) {\n      const startScan = Math.max(0, cursor - (maxCommandLen + 1) - 32);\n      for (let i = cursor - 1; i >= startScan; i--) {\n        const ch = value[i];\n        if (!prefixes.has(ch)) continue;\n\n        const cmd = value.slice(i + 1, cursor);\n        if (!cmd) return null;\n        if (cmd.length > maxCommandLen) return null;\n        if (/\\s/.test(cmd)) return null;\n        if (!tokenChars.test(cmd)) return null;\n\n        return { start: i, end: cursor, raw: ch + cmd, cmdLower: cmd.toLowerCase(), prefix: ch };\n      }\n      return null;\n    }\n\n    function replaceRangeKeepCaret(value, start, end, insert, newCaret) {\n      const next = value.slice(0, start) + insert + value.slice(end);\n      return { next, newCaret: typeof newCaret === "number" ? newCaret : start + insert.length };\n    }\n\n    function setValueAndCaret(nextValue, caretPos) {\n      el.value = nextValue;\n      el.setSelectionRange(caretPos, caretPos);\n      el.dispatchEvent(new Event("input", { bubbles: true }));\n    }\n\n    function onKeyDown(e) {\n      if (e.isComposing) return;\n      if (!commitKeys.has(e.key)) return;\n\n      const selStart = el.selectionStart;\n      const selEnd = el.selectionEnd;\n      if (selStart !== selEnd) return;\n\n      const value = el.value || "";\n      const token = findCommandAtCursor(value, selStart);\n      if (!token) return;\n\n      const action = typeof opts.resolveAction === "function" ? opts.resolveAction(token.cmdLower) : null;\n      if (!action) return;\n\n      e.preventDefault();\n\n      const keepDelimiter = opts.keepDelimiter !== false;\n      const delimiter = keepDelimiter ? (e.key === "Enter" ? "\\n" : " ") : "";\n      const r = replaceRangeKeepCaret(value, token.start, token.end, delimiter, token.start + delimiter.length);\n\n      setValueAndCaret(r.next, r.newCaret);\n\n      if (typeof opts.onAction === "function") {\n        opts.onAction(action);\n      }\n    }\n\n    el.addEventListener("keydown", onKeyDown);\n\n    return {\n      destroy() {\n        el.removeEventListener("keydown", onKeyDown);\n      },\n    };\n  }\n\n  function createHost() {\n    const host = document.createElement("div");\n    host.id = EXT_ID;\n\n    host.style.position = "fixed";\n    host.style.left = "24px";\n    host.style.top = "24px";\n    host.style.zIndex = "2147483647";\n\n    document.documentElement.appendChild(host);\n    return host;\n  }\n\n  function createUI(wrap) {\n    const doc = wrap.ownerDocument || document;\n\n    const el = (tag, className, attrs, children) => {\n      const n = doc.createElement(tag);\n\n      if (className) n.className = className;\n\n      if (attrs) {\n        for (const [k, v] of Object.entries(attrs)) {\n          if (v === undefined || v === null) continue;\n          if (k === "text") n.textContent = String(v);\n          else if (k === "html") n.innerHTML = String(v);\n          else n.setAttribute(k, String(v));\n        }\n      }\n\n      if (children) {\n        for (const c of children) {\n          if (c === undefined || c === null) continue;\n          n.appendChild(typeof c === "string" ? doc.createTextNode(c) : c);\n        }\n      }\n\n      return n;\n    };\n\n    const win = el("div", "dcop-win", { role: "dialog", "aria-label": "Copilot launcher" });\n\n    const titlebar = el("div", "dcop-titlebar", { "data-drag": "1" });\n    const title = el("div", "dcop-title", { text: "Copilot" });\n    const btnClose = el("button", "dcop-close", {\n      type: "button",\n      "aria-label": "Close",\n      title: "Close",\n      text: "\xd7",\n    });\n    titlebar.append(title, btnClose);\n\n    const body = el("div", "dcop-body");\n\n    const row = el("div", "dcop-row");\n    const label = el("div", "dcop-label", { text: "Mode" });\n    const select = el("select", "dcop-select", { "aria-label": "Prompt selector" });\n    row.append(label, select);\n\n    const textarea = el("textarea", "dcop-textarea", {\n      "aria-label": "Your text",\n      placeholder: "Ask Copilot or paste context here...",\n    });\n\n    const urlRow = el("div", "dcop-url-row");\n    const urlBox = el("div", "dcop-url", { "aria-label": "Generated URL" });\n    const linkOpen = el("a", "dcop-btn dcop-primary", {\n      target: "_blank",\n      rel: "noopener noreferrer",\n      text: "Copilot \u2192",\n    });\n    urlRow.append(urlBox, linkOpen);\n\n    body.append(row, textarea, urlRow);\n    win.append(titlebar, body);\n    wrap.appendChild(win);\n\n    return { win, titlebar, btnClose, select, textarea, linkOpen, urlBox };\n  }\n\n  function createShadowUI(host) {\n    const shadow = host.attachShadow({ mode: "open" });\n\n    const style = document.createElement("style");\n    style.textContent = `\n:host { all: initial; }\n* { box-sizing: border-box; }\n\n.dcop-wrap {\n  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;\n  font-size: 14px;\n  color: #0b1220;\n}\n\n.dcop-win {\n  width: 432px;\n  max-width: min(92vw, 540px);\n  background: #ffffff;\n  border-radius: 18px;\n  overflow: hidden;\n  border: 2px solid rgba(11, 18, 32, 0.08);\n  box-shadow:\n    0 10px 24px rgba(0, 0, 0, 0.16),\n    0 2px 8px rgba(0, 0, 0, 0.08);\n}\n\n.dcop-titlebar {\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 6px 12px;\n  background: linear-gradient(135deg, #065f8a 0%, #0ea5e9 40%, #10b981 100%);\n  color: #ffffff;\n  cursor: grab;\n  user-select: none;\n}\n\n.dcop-titlebar::after {\n  content: "";\n  position: absolute;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  height: 1px;\n  background: rgba(255, 255, 255, 0.25);\n}\n\n.dcop-title {\n  font-weight: 700;\n  letter-spacing: 0.3px;\n  font-size: 13px;\n  line-height: 1;\n  text-align: center;\n  white-space: nowrap;\n  text-shadow: 0 1px 2px rgba(0,0,0,0.1);\n}\n\n.dcop-close {\n  position: absolute;\n  right: 8px;\n  top: 50%;\n  transform: translateY(-50%);\n  width: 22px;\n  height: 22px;\n  border-radius: 6px;\n  border: 1px solid rgba(255, 255, 255, 0.35);\n  background: rgba(255, 255, 255, 0.18);\n  color: #ffffff;\n  cursor: pointer;\n\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n\n  font-weight: 700;\n  font-size: 14px;\n  line-height: 1;\n  transition: background 0.15s ease;\n}\n\n.dcop-close:hover { background: rgba(255, 255, 255, 0.28); }\n.dcop-close:active { transform: translateY(-50%) translateY(1px); }\n\n.dcop-body {\n  padding: 14px;\n  background: #ffffff;\n}\n\n.dcop-row {\n  display: flex;\n  gap: 10px;\n  align-items: center;\n  margin-bottom: 10px;\n}\n\n.dcop-label {\n  font-weight: normal;\n  color: #334155;\n  font-size: 12px;\n  letter-spacing: 0.2px;\n}\n\n.dcop-select {\n  width: 100%;\n  padding: 10px 12px;\n  border-radius: 14px;\n  border: 2px solid rgba(11, 18, 32, 0.10);\n  background: #f3f7fb;\n  color: #0b1220;\n  font-weight: normal;\n  outline: none;\n}\n\n.dcop-select:focus {\n  border-color: rgba(16, 185, 129, 0.55);\n  box-shadow: 0 0 0 4px rgba(16, 185, 129, 0.16);\n  background: #ffffff;\n}\n\n.dcop-textarea {\n  width: 100%;\n  min-height: 170px;\n  resize: vertical;\n  padding: 12px;\n  border-radius: 16px;\n  border: 2px solid rgba(11, 18, 32, 0.10);\n  background: #ffffff;\n  outline: none;\n  line-height: 1.4;\n}\n\n.dcop-textarea:focus {\n  border-color: rgba(10, 99, 168, 0.55);\n  box-shadow: 0 0 0 4px rgba(10, 99, 168, 0.16);\n}\n\n.dcop-url-row {\n  display: flex;\n  gap: 10px;\n  align-items: stretch;\n  margin-top: 12px;\n}\n\n.dcop-btn {\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  text-decoration: none;\n  padding: 10px 14px;\n  border-radius: 14px;\n  font-weight: normal;\n  cursor: pointer;\n  user-select: none;\n  flex-shrink: 0;\n\n  border: 2px solid rgba(11, 18, 32, 0.12);\n  box-shadow: 0 2px 0 rgba(11, 18, 32, 0.10);\n  transition: background 0.15s ease, box-shadow 0.15s ease;\n}\n\n.dcop-btn:active { transform: translateY(1px); box-shadow: 0 1px 0 rgba(11, 18, 32, 0.10); }\n\n.dcop-primary {\n  background: linear-gradient(180deg, #d1fae5 0%, #6ee7b7 50%, #34d399 100%);\n  border-color: rgba(5, 150, 105, 0.25);\n  color: #064e3b;\n  font-weight: 500;\n  box-shadow: 0 2px 0 rgba(5, 150, 105, 0.15), 0 1px 3px rgba(0,0,0,0.08);\n}\n\n.dcop-primary:hover { filter: brightness(1.04); box-shadow: 0 2px 0 rgba(5, 150, 105, 0.2), 0 2px 6px rgba(0,0,0,0.1); }\n\n.dcop-url {\n  flex: 1;\n  padding: 10px 12px;\n  border-radius: 14px;\n  background: #f3f7fb;\n  border: 1px solid rgba(11, 18, 32, 0.08);\n  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;\n  font-size: 11px;\n  color: #334155;\n  overflow: auto;\n  max-height: 80px;\n  word-wrap: break-word;\n}\n    `.trim();\n\n    const wrap = document.createElement("div");\n    wrap.className = "dcop-wrap";\n\n    shadow.appendChild(style);\n    shadow.appendChild(wrap);\n\n    return createUI(wrap);\n  }\n\n  function attachDragBehavior(host, win, titlebar) {\n    let dragging = false;\n    let startX = 0;\n    let startY = 0;\n    let startLeft = 0;\n    let startTop = 0;\n\n    function onMove(e) {\n      if (!dragging) return;\n\n      const dx = e.clientX - startX;\n      const dy = e.clientY - startY;\n\n      const rect = win.getBoundingClientRect();\n      const maxLeft = window.innerWidth - rect.width;\n      const maxTop = window.innerHeight - rect.height;\n\n      const nextLeft = clamp(startLeft + dx, 0, Math.max(0, maxLeft));\n      const nextTop = clamp(startTop + dy, 0, Math.max(0, maxTop));\n\n      host.style.left = String(nextLeft) + "px";\n      host.style.top = String(nextTop) + "px";\n    }\n\n    function onUp() {\n      if (!dragging) return;\n      dragging = false;\n      titlebar.style.cursor = "grab";\n      window.removeEventListener("mousemove", onMove, true);\n      window.removeEventListener("mouseup", onUp, true);\n    }\n\n    titlebar.addEventListener("mousedown", (e) => {\n      if (e.button !== 0) return;\n\n      dragging = true;\n      titlebar.style.cursor = "grabbing";\n\n      const hostRect = host.getBoundingClientRect();\n      startX = e.clientX;\n      startY = e.clientY;\n      startLeft = hostRect.left;\n      startTop = hostRect.top;\n\n      window.addEventListener("mousemove", onMove, true);\n      window.addEventListener("mouseup", onUp, true);\n    });\n  }\n\n  function main() {\n    const host = createHost();\n    const ui = createShadowUI(host);\n\n    const COPILOT_SEARCH_BASE = "https://www.bing.com/copilotsearch";\n    const COPILOT_CHAT_BASE = "https://copilot.microsoft.com/";\n\n    const basePrompts = [\n      {\n        id: "search",\n        title: "Copilot search (default)",\n        prepend: "",\n        append: "",\n        params: { FORM: "ANWSB6" },\n        aliases: ["s", "search"],\n      },\n      {\n        id: "rewrite",\n        title: "Rewrite: concise and clear",\n        prepend: "Rewrite the text below to be concise, clear, and professional. Preserve meaning and key details.\\n\\nText:\\n",\n        append: "",\n        params: { sendquery: "1", showconv: "1", bypassredir: "1" },\n        aliases: ["r", "rw", "rewrite"],\n      },\n      {\n        id: "summarize",\n        title: "Summarize: action items and risks",\n        prepend:\n          "Summarize the content below for a technical audience. Include action items, risks, and assumptions. Keep it compact.\\n\\nContent:\\n",\n        append: "",\n        params: { sendquery: "1", showconv: "1", bypassredir: "1" },\n        aliases: ["sum", "summarize"],\n      },\n      {\n        id: "review",\n        title: "Review: improve structure and logic",\n        prepend:\n          "Review the text below. Improve structure and logic, fix errors, and point out any ambiguities. Return an improved version plus a short list of issues.\\n\\nText:\\n",\n        append: "",\n        params: { sendquery: "1", showconv: "1", bypassredir: "1" },\n        aliases: ["rev", "review"],\n      },\n      {\n        id: "email",\n        title: "Email: direct and professional",\n        prepend:\n          "Turn the draft below into a direct, strictly professional email. Keep it short. Include a clear subject line.\\n\\nDraft:\\n",\n        append: "",\n        params: { sendquery: "1", showconv: "1", bypassredir: "1" },\n        aliases: ["mail", "email"],\n      },\n    ];\n\n    const catalog = createPromptCatalog(basePrompts);\n\n    for (let i = 0; i < catalog.prompts.length; i++) {\n      const p = catalog.prompts[i];\n      const opt = document.createElement("option");\n      opt.value = String(i);\n      opt.textContent = p.title;\n      ui.select.appendChild(opt);\n    }\n    ui.select.value = "0";\n\n    function getSelectedPrompt() {\n      const idxRaw = parseInt(ui.select.value, 10);\n      const idx = Number.isFinite(idxRaw) ? idxRaw : 0;\n      return catalog.prompts[clamp(idx, 0, catalog.prompts.length - 1)];\n    }\n\n    function buildUrl() {\n      const p = getSelectedPrompt();\n      const userText = ui.textarea.value || "";\n      const joined = (p.prepend || "") + userText + (p.append || "");\n\n      const qs = new URLSearchParams();\n\n      for (const [k, v] of Object.entries(p.params || {})) {\n        if (v === undefined || v === null) continue;\n        const s = String(v);\n        if (!s.length) continue;\n        qs.set(k, s);\n      }\n\n      let url = "";\n\n      if (p.id === "search") {\n        qs.set("q", joined);\n        qs.set("pq", joined);\n        url = COPILOT_SEARCH_BASE + "?" + qs.toString();\n      } else {\n        qs.set("prompt", joined);\n        url = COPILOT_CHAT_BASE + "?" + qs.toString();\n      }\n\n      ui.linkOpen.href = url;\n      ui.urlBox.textContent = url;\n    }\n\n    function selectPromptById(id) {\n      const idx = catalog.indexById.get(id);\n      if (typeof idx !== "number") return false;\n      ui.select.value = String(idx);\n      buildUrl();\n      return true;\n    }\n\n    function resolveAliasOrUniquePrefix(cmdLower) {\n      const exact = catalog.aliasToId.get(cmdLower);\n      if (exact) return exact;\n\n      let found = null;\n      let count = 0;\n      for (const [alias, id] of catalog.aliasToId.entries()) {\n        if (!alias.startsWith(cmdLower)) continue;\n        found = id;\n        count++;\n        if (count > 1) return null;\n      }\n      return count === 1 ? found : null;\n    }\n\n    createInlineCommandExpander({\n      element: ui.textarea,\n      prefixes: ["!", "/", "@"],\n      commitKeys: [" ", "Enter"],\n      maxCommandLen: 24,\n      keepDelimiter: false,\n      resolveAction: (cmdLower) => {\n        const id = resolveAliasOrUniquePrefix(cmdLower);\n        return id ? { type: "select", id } : null;\n      },\n      onAction: (action) => {\n        if (!action || action.type !== "select") return;\n        selectPromptById(action.id);\n      },\n    });\n\n    ui.select.addEventListener("change", buildUrl);\n    ui.textarea.addEventListener("input", buildUrl);\n\n    ui.btnClose.addEventListener("click", () => {\n      host.remove();\n    });\n\n    attachDragBehavior(host, ui.win, ui.titlebar);\n\n    const initial = getPageSelectionText();\n    if (initial) {\n      ui.textarea.value = initial;\n      ui.textarea.setSelectionRange(initial.length, initial.length);\n      ui.textarea.dispatchEvent(new Event("input", { bubbles: true }));\n    }\n\n    buildUrl();\n    ui.textarea.focus();\n  }\n\n  main();\n})();\n\n')))}u.isMDXComponent=!0}}]);