"use strict";(self.webpackChunkzharii=self.webpackChunkzharii||[]).push([[1051],{3905:function(e,t,n){n.d(t,{Zo:function(){return d},kt:function(){return h}});var r=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var l=r.createContext({}),c=function(e){var t=r.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},d=function(e){var t=c(e.components);return r.createElement(l.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},u=r.forwardRef((function(e,t){var n=e.components,o=e.mdxType,a=e.originalType,l=e.parentName,d=i(e,["components","mdxType","originalType","parentName"]),u=c(n),h=o,m=u["".concat(l,".").concat(h)]||u[h]||p[h]||a;return n?r.createElement(m,s(s({ref:t},d),{},{components:n})):r.createElement(m,s({ref:t},d))}));function h(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var a=n.length,s=new Array(a);s[0]=u;var i={};for(var l in t)hasOwnProperty.call(t,l)&&(i[l]=t[l]);i.originalType=e,i.mdxType="string"==typeof e?e:o,s[1]=i;for(var c=2;c<a;c++)s[c]=n[c];return r.createElement.apply(null,s)}return r.createElement.apply(null,n)}u.displayName="MDXCreateElement"},73:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return i},contentTitle:function(){return l},metadata:function(){return c},toc:function(){return d},default:function(){return u}});var r=n(7462),o=n(3366),a=(n(7294),n(3905)),s=["components"],i={},l="Design Patterns",c={unversionedId:"dev-design/dev-design-patterns",id:"dev-design/dev-design-patterns",title:"Design Patterns",description:"Inbox",source:"@site/docs/dev-design/dev-design-patterns.md",sourceDirName:"dev-design",slug:"/dev-design/dev-design-patterns",permalink:"/docs/dev-design/dev-design-patterns",editUrl:"https://github.com/dzharii/dzharii.github.io/docs/dev-design/dev-design-patterns.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Dev Deployment, Update, DevOps",permalink:"/docs/dev-design/dev-design-devops"},next:{title:"Dev: Metrics, Logging and Telemetry",permalink:"/docs/dev-design/dev-design-telemetry"}},d=[{value:"Inbox",id:"inbox",children:[],level:2},{value:"MVP (Model View Presenter)",id:"mvp-model-view-presenter",children:[],level:2},{value:"Crash-only software",id:"crash-only-software",children:[],level:2}],p={toc:d};function u(e){var t=e.components,n=(0,o.Z)(e,s);return(0,a.kt)("wrapper",(0,r.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"design-patterns"},"Design Patterns"),(0,a.kt)("h2",{id:"inbox"},"Inbox"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"2022-03-05 ",(0,a.kt)("a",{parentName:"li",href:"https://proandroiddev.com/why-you-need-use-cases-interactors-142e8a6fe576"},"Why you need Use Cases/Interactors by Denis Brandi ProAndroidDev"),(0,a.kt)("blockquote",{parentName:"li"},(0,a.kt)("p",{parentName:"blockquote"},"Since Clean Architecture became the new hot topic in the Android world there have been loads of code samples and articles that tried to explain how it works and which are its benefits."))),(0,a.kt)("li",{parentName:"ul"},"2022-03-06 ",(0,a.kt)("a",{parentName:"li",href:"https://www.lloydatkinson.net/posts/2022/modelling-workflows-with-finite-state-machines-in-dotnet/"},"Modelling workflows with Finite State Machines in .NET - Lloyd Atkinson"),(0,a.kt)("blockquote",{parentName:"li"},(0,a.kt)("p",{parentName:"blockquote"},"How to implement complex logic as a FSA")))),(0,a.kt)("h2",{id:"mvp-model-view-presenter"},"MVP (Model View Presenter)"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"\ud83d\udc8e 2022-01-24 ",(0,a.kt)("a",{parentName:"li",href:"https://www.geeksforgeeks.org/mvp-model-view-presenter-architecture-pattern-in-android-with-example/"},"MVP (Model View Presenter) Architecture Pattern in Android with Example"),(0,a.kt)("blockquote",{parentName:"li"},(0,a.kt)("p",{parentName:"blockquote"},"MVP (Model \u2014 View \u2014 Presenter) comes into the picture as an alternative to the traditional MVC (Model \u2014 View \u2014 Controller) architecture pattern.")))),(0,a.kt)("h2",{id:"crash-only-software"},"Crash-only software"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"2022-05-16 ",(0,a.kt)("a",{parentName:"li",href:"https://lwn.net/Articles/191059/"},"Crash-only software: More than meets the eye LWN.net")),(0,a.kt)("li",{parentName:"ul"},"2022-05-16 ",(0,a.kt)("a",{parentName:"li",href:"https://www.ribbonfarm.com/2014/10/29/crash-only-thinking/"},"Crash-Only Thinking"),(0,a.kt)("blockquote",{parentName:"li"},(0,a.kt)("p",{parentName:"blockquote"},"A few weeks ago, I learned about something called crash-only software (ht, Robert Greco). This is software that has no normal \u201cstart\u201d or \u201cstop\u201d mechanisms. It can only be stopped by crashing it. Often this means unplugging the computer physically."))),(0,a.kt)("li",{parentName:"ul"},"2022-05-16 ",(0,a.kt)("a",{parentName:"li",href:"https://brooker.co.za/blog/2012/01/22/crash-only.html"},"The properties of crash-only software - Marc's Blog"),(0,a.kt)("blockquote",{parentName:"li"},(0,a.kt)("p",{parentName:"blockquote"},"My thoughts about a classic paper"))),(0,a.kt)("li",{parentName:"ul"},"2022-05-21 ",(0,a.kt)("a",{parentName:"li",href:"https://news.ycombinator.com/item?id=8464573"},"Crash-only software: More than meets the eye 2006 Hacker News"))),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"Because of that I usually make all my services and systems crash only. End up using things like use atomic file moves, open files with append-only, use kill -9 to stop services and so on. To make your system crash-onl,y you have to go down the base system calls.\nSome observed effects so far (many are covered in the article):\n* Faster restarts (if your regular operation involves restarting lots of processes).\n* Less code (don't have to handle both the clean shutdown and dirty shutdown).\n* Recovery/cleanup code if it is needed, is often ends up moved to startup instead of shutdown (you might have to recover corrupt files when you start up again. For example re-truncate the files to a known offset based on some index).\n* Something else might need to manage external resources (OS IPC resources, shared memory, IPC message queues etc). This could be a supervisor process.\n* If you do a lot of socket operations on localhost, your sockets could get stuck in TIME_WAIT state and you'll eventually run out of ephemeral ports if you do a lot of restarts (say during testing). SIGTERM signals often are caught and processes (libraries) perform a cleaner shutdown.\n* Think very well about the database you use and see if it can can support crash only operation. Some do some don't ( I won't name any names here ).\n")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"2022-05-16 ",(0,a.kt)("a",{parentName:"li",href:"https://news.ycombinator.com/item?id=31242957"},"Crash-only software: More than meets the eye 2006 Hacker News"))),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"I feel like people don't go deep enough into how to write 'crash only software' in these discussions. Like what are the options?\n1. write ahead log before you do side effects/idempotent side effects\n2. double writes to disk to prevent torn writes\n3. checksums to make sure we don't make bad decisions based on bad data\n4. redundancy/anti-entropy/other distributed system patterns which attempt to obviate the need to be overly concerned with a single process crashing\n5. self-healing patterns when bad data is found\nanyone have any other ideas?\n")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"2022-05-21 ",(0,a.kt)("a",{parentName:"li",href:"https://danluu.com/file-consistency/"},"Files are hard"))))}u.isMDXComponent=!0}}]);