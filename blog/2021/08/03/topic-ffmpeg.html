<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.15">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Dmytro Zharii RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Dmytro Zharii Atom Feed"><title data-react-helmet="true">FFmpeg links | Dmytro Zharii</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://blog.zharii.com/blog/2021/08/03/topic-ffmpeg"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_tag" content="default"><meta data-react-helmet="true" property="og:title" content="FFmpeg links | Dmytro Zharii"><meta data-react-helmet="true" name="description" content="- Using FFmpeg with NVIDIA GPU Hardware Acceleration :: NVIDIA Video Codec SDK Documentation"><meta data-react-helmet="true" property="og:description" content="- Using FFmpeg with NVIDIA GPU Hardware Acceleration :: NVIDIA Video Codec SDK Documentation"><meta data-react-helmet="true" property="og:type" content="article"><meta data-react-helmet="true" property="article:published_time" content="2021-08-03T07:47:00.000Z"><link data-react-helmet="true" rel="icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://blog.zharii.com/blog/2021/08/03/topic-ffmpeg"><link data-react-helmet="true" rel="alternate" href="https://blog.zharii.com/blog/2021/08/03/topic-ffmpeg" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://blog.zharii.com/blog/2021/08/03/topic-ffmpeg" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.7d6ab89a.css">
<link rel="preload" href="/assets/js/runtime~main.20ed277c.js" as="script">
<link rel="preload" href="/assets/js/main.6b0c69d0.js" as="script">
</head>
<body data-theme="light">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/favicon.ico" alt="My Site Logo" class="themedImage_W2Cr themedImage--light_TfLj"><img src="/img/favicon.ico" alt="My Site Logo" class="themedImage_W2Cr themedImage--dark_oUvU"></div><b class="navbar__title">Home</b></a><a class="navbar__item navbar__link" href="/docs/intro">Personal Wiki</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog">Blog</a><a href="https://blog.zharii.com/blog/rss.xml" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">[RSS]</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/dzharii/dzharii.github.io" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="toggle_Pssr toggle_TdHA toggleDisabled_jDku"><div class="toggleTrack_SSoT" role="button" tabindex="-1"><div class="toggleTrackCheck_XobZ"><span class="toggleIcon_eZtF">🌜</span></div><div class="toggleTrackX_YkSC"><span class="toggleIcon_eZtF">🌞</span></div><div class="toggleTrackThumb_uRm4"></div></div><input type="checkbox" class="toggleScreenReader_JnkT" aria-label="Switch between dark and light mode"></div><div class="dsla-search-wrapper"><div class="dsla-search-field" data-tags="default,docs-default-current"></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper blog-wrapper blog-post-page"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_a9qW thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_uKok margin-bottom--md">Recent posts</div><ul class="sidebarItemList_Kvuv"><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/blog/2022/03/04/links-from-my-inbox-march">Links from my inbox March 2022</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/blog/2021/12/26/links-from-my-inbox-december-2021">Links from my inbox December 2021</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/blog/2021/11/14/links-from-my-inbox-november-2021">Links from my inbox November 2021</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/blog/2021/10/13/favorite-vs-code-extensions">My Favorite VS Code Extensions</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/blog/2021/10/09/productivity-products">Productivity products</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="http://schema.org/Blog"><article itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h1 class="blogPostTitle_rzP5" itemprop="headline">FFmpeg links</h1><div class="blogPostData_Zg1s margin-vert--md"><time datetime="2021-08-03T07:47:00.000Z" itemprop="datePublished">August 3, 2021</time> · <!-- -->5 min read</div></header><div id="post-content" class="markdown" itemprop="articleBody"><ul><li><a href="https://docs.nvidia.com/video-technologies/video-codec-sdk/ffmpeg-with-nvidia-gpu/index.html" target="_blank" rel="noopener noreferrer">Using FFmpeg with NVIDIA GPU Hardware Acceleration :: NVIDIA Video Codec SDK Documentation</a></li><li><a href="https://jeromewu.github.io/ffmpeg-wasm-a-pure-webassembly-javascript-port-of-ffmpeg/" target="_blank" rel="noopener noreferrer">FFmpeg.wasm, a pure WebAssembly / JavaScript port of FFmpeg  TechBlog</a></li><li><a href="https://mattj.io/posts/2021-02-27-create-animated-gif-and-webp-from-videos-using-ffmpeg/" target="_blank" rel="noopener noreferrer">Create animated GIF and WebP from videos using FFmpeg  Matt Joseph</a></li><li><a href="https://unix.stackexchange.com/questions/28803/how-can-i-reduce-a-videos-size-with-ffmpeg" target="_blank" rel="noopener noreferrer">How can I reduce a video&#x27;s size with ffmpeg? - Unix &amp; Linux Stack Exchange</a></li><li><a href="https://github.com/cytopia/ffscreencast" target="_blank" rel="noopener noreferrer">cytopia/ffscreencast: ffscreencast - ffmpeg screencast/desktop-recording with video overlay and multi monitor support</a></li><li><a href="https://streaminglearningcenter.com/blogs/ffmpeg-command-threads-how-it-affects-quality-and-performance.html" target="_blank" rel="noopener noreferrer">FFmpeg Threads Command: How it Affects Quality and Performance - Streaming Learning Center</a></li><li><a href="https://galene.org/" target="_blank" rel="noopener noreferrer">Galène videoconference server</a></li><li><a href="https://news.ycombinator.com/item?id=25484133" target="_blank" rel="noopener noreferrer">Show HN: Owncast – An open-source, self-hosted live streaming server Hacker News</a></li><li><a href="http://blog.gregzaal.com/2014/05/30/camera-stabilisation-with-ffmpeg/" target="_blank" rel="noopener noreferrer">Camera Stabilisation with FFmpeg</a></li><li><a href="https://www.imakewebsites.ca/posts/2018/02/17/stabilizing-gopro-video-with-ffmpeg-and-vid.stab/" target="_blank" rel="noopener noreferrer">Stabilizing GoPro Video with FFmpeg and vid.stab Important Bits</a></li><li><a href="https://kokomins.wordpress.com/2019/10/10/anime-encoding-guide-for-x265-and-why-to-never-use-flac/" target="_blank" rel="noopener noreferrer">Anime Encoding Guide for x265  HEVC  &amp; AAC/OPUS  and Why to Never Use FLAC  – Kokomins</a></li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="tools">Tools<a class="hash-link" href="#tools" title="Direct link to heading">​</a></h2><ul><li><a href="https://alfg.dev/ffmpeg-commander/" target="_blank" rel="noopener noreferrer">FFmpeg Commander</a><ul><li><a href="https://github.com/alfg/ffmpeg-commander" target="_blank" rel="noopener noreferrer">github: alfg/ffmpeg-commander: 🛠️ FFmpeg Command Generator Web UI</a> - generates commandline for the workload!</li></ul></li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="snippets">Snippets<a class="hash-link" href="#snippets" title="Direct link to heading">​</a></h2><p>Audio - increase volume:
<a href="https://trac.ffmpeg.org/wiki/AudioVolume" target="_blank" rel="noopener noreferrer">AudioVolume – FFmpeg</a> Audio Volume Manipulation</p><div class="codeBlockContainer_I0IT language-sh theme-code-block"><div class="codeBlockContent_wNvx sh"><pre tabindex="0" class="prism-code language-sh codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">ffmpeg -i VID_20211212_130236045.mp4  -c:v copy -filter:a loudnorm VID_20211212_130236045_vol_50.mp4</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>Add sound wave on top of video (under construction):</p><div class="codeBlockContainer_I0IT language-sh theme-code-block"><div class="codeBlockContent_wNvx sh"><pre tabindex="0" class="prism-code language-sh codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">ffmpeg -i in.mp4 -filter_complex &quot;[0:a]showwaves=s=1920x300:mode=line:colors=red|yellow[sw];[0][sw]overlay=(W-w)/2:(H-h)/2:format=auto,format=yuv420p[v]&quot; -map &quot;[v]&quot; -map 0:a -movflags +faststart output.mp4</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>Make a clip</p><div class="codeBlockContainer_I0IT language-sh theme-code-block"><div class="codeBlockContent_wNvx sh"><pre tabindex="0" class="prism-code language-sh codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">ffmpeg -i i.mp4 -ss 00:01:00 -t 00:02:00 -c copy o.mp4</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>Group photos into video</p><div class="codeBlockContainer_I0IT language-sh theme-code-block"><div class="codeBlockContent_wNvx sh"><pre tabindex="0" class="prism-code language-sh codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">ffmpeg -framerate 10 -pattern_type glob -i &#x27;*.jpg&#x27; -c:v libx264 o.mp4</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>Get a screenshot from a video.</p><div class="codeBlockContainer_I0IT language-sh theme-code-block"><div class="codeBlockContent_wNvx sh"><pre tabindex="0" class="prism-code language-sh codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">ffmpeg -i o.mp4 -r 1 -q:v 2 -f image2 img-3%d.jpeg</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>Concatenate videos</p><div class="codeBlockContainer_I0IT language-sh theme-code-block"><div class="codeBlockContent_wNvx sh"><pre tabindex="0" class="prism-code language-sh codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">file &#x27;video1.mp4&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">file &#x27;video2.mp4&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">file &#x27;videoN.mp4&#x27;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><div class="codeBlockContainer_I0IT language-sh theme-code-block"><div class="codeBlockContent_wNvx sh"><pre tabindex="0" class="prism-code language-sh codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">ffmpeg -f concat -i list.txt -c copy o.mp4</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>Remove audio from video</p><div class="codeBlockContainer_I0IT language-sh theme-code-block"><div class="codeBlockContent_wNvx sh"><pre tabindex="0" class="prism-code language-sh codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">ffmpeg -i i.mp4 -c:v copy -an o.mp4</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>Extract audio from video</p><div class="codeBlockContainer_I0IT language-sh theme-code-block"><div class="codeBlockContent_wNvx sh"><pre tabindex="0" class="prism-code language-sh codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">ffmpeg -i i.mp4 -vn 0.wav</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>Crop video</p><div class="codeBlockContainer_I0IT language-sh theme-code-block"><div class="codeBlockContent_wNvx sh"><pre tabindex="0" class="prism-code language-sh codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">ffmpeg -i i.mp4 -filter:v &quot;crop=w:h:x:y&quot; o.mp4</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>Stack videos horizontaly</p><div class="codeBlockContainer_I0IT language-sh theme-code-block"><div class="codeBlockContent_wNvx sh"><pre tabindex="0" class="prism-code language-sh codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">ffmpeg -i i0.mp4 -i i1.mp4 -filter_complex hstack=inputs=2 o.mp4</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>Vertical</p><div class="codeBlockContainer_I0IT language-sh theme-code-block"><div class="codeBlockContent_wNvx sh"><pre tabindex="0" class="prism-code language-sh codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">ffmpeg -i i0.mp4 -i i1.mp4 -filter_complex vstack=inputs=2 o.mp4</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>Grid 2x2</p><div class="codeBlockContainer_I0IT language-sh theme-code-block"><div class="codeBlockContent_wNvx sh"><pre tabindex="0" class="prism-code language-sh codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">ffmpeg \ -i i0.mp4 -i i1.mp4 -i i2.mp4 -i i3.mp4 \ -filter_complex \ &quot;[0:v][1:v]hstack=inputs=2[top]; \ [2:v][3:v]hstack=inputs=2[bottom]; \ [top][bottom]vstack=inputs=2[v]&quot; \ -map &quot;[v]&quot; \ o.mp4</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>Grid 3x2</p><div class="codeBlockContainer_I0IT language-sh theme-code-block"><div class="codeBlockContent_wNvx sh"><pre tabindex="0" class="prism-code language-sh codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">ffmpeg \ -i i0.mp4 -i i1.mp4 \ -i i2.mp4 -i i3.mp4 \ -i i4.mp4 -i i5.mp4 \ -filter_complex \ &quot;[0:v][1:v][2:v]hstack=inputs=3[top];\ [3:v][4:v][5:v]hstack=inputs=3[bottom];\ [top][bottom]vstack=inputs=2[v]&quot; \ -map &quot;[v]&quot; \ o.mp4</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>Rotate (re-encode):</p><div class="codeBlockContainer_I0IT language-sh theme-code-block"><div class="codeBlockContent_wNvx sh"><pre tabindex="0" class="prism-code language-sh codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">ffmpeg -i i.mp4 -vf &quot;transpose=0&quot; o.mp4</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p><a href="https://ostechnix.com/how-to-rotate-videos-using-ffmpeg-from-commandline/" target="_blank" rel="noopener noreferrer">How To Rotate Videos Using FFMpeg From Commandline</a></p><p>transpose=...</p><ul><li>0 - Rotate by 90 degrees counter-clockwise and flip vertically. This is the default.</li><li>1 - Rotate by 90 degrees clockwise.</li><li>2 - Rotate by 90 degrees counter-clockwise.</li><li>3 - Rotate by 90 degrees clockwise and flip vertically.</li></ul><p>Rotate 180 dec:</p><div class="codeBlockContainer_I0IT language-sh theme-code-block"><div class="codeBlockContent_wNvx sh"><pre tabindex="0" class="prism-code language-sh codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">ffmpeg -i input.mp4 -vf &quot;transpose=2,transpose=2&quot; output.mp4</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>Rotate (metadata only):</p><div class="codeBlockContainer_I0IT language-sh theme-code-block"><div class="codeBlockContent_wNvx sh"><pre tabindex="0" class="prism-code language-sh codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">ffmpeg -i inp.mp4  -c copy -metadata:s:v:0 rotate=180 output.mp4</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="ffmpeg-convert-for-android">FFmpeg: convert for android<a class="hash-link" href="#ffmpeg-convert-for-android" title="Direct link to heading">​</a></h2><ul><li>(2021-09-15) <a href="https://stackoverflow.com/questions/14171826/converting-video-for-android-using-ffmpeg" target="_blank" rel="noopener noreferrer">Converting Video for Android using FFMPEG - Stack Overflow</a></li></ul><div class="codeBlockContainer_I0IT language-sh theme-code-block"><div class="codeBlockContent_wNvx sh"><pre tabindex="0" class="prism-code language-sh codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">ffmpeg -i &lt;input&gt; -c:v libx264 -c:a aac -movflags +faststart output.mp4</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><div class="codeBlockContainer_I0IT language-sh theme-code-block"><div class="codeBlockContent_wNvx sh"><pre tabindex="0" class="prism-code language-sh codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">ffmpeg -i &lt;input&gt; -s 480x320 -vcodec mpeg4 -acodec aac -strict -2 -ac 1 -ar 16000 -r 13 -ab 32000 -aspect 3:2 &lt;output&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><div class="codeBlockContainer_I0IT language-sh theme-code-block"><div class="codeBlockContent_wNvx sh"><pre tabindex="0" class="prism-code language-sh codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">ffmpeg -y -i input_file.mp4 -s 352x288 -b:v 384k -flags +loop+mv4 -cmp 256 -partitions +parti4x4+parti8x8+partp4x4+partp8x8 -subq 6 -trellis 0 -refs 5 -bf 0 -coder 0 -me_range 16 -g 250 -keyint_min 25 -sc_threshold 40 -i_qfactor 0.71 -qmin 10 -qmax 51 -qdiff 4 -c:a aac -ac 1 -ar 16000 -r 13 -ab 32000 -aspect 3:2 -strict experimental output_file.3gp</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><div class="codeBlockContainer_I0IT language-sh theme-code-block"><div class="codeBlockContent_wNvx sh"><pre tabindex="0" class="prism-code language-sh codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">ffmpeg -i &lt;INPUT_VIDEO&gt; -c:v libx264 -profile:v baseline -c:a libvo_aacenc -ar 44100 -ac 2 -b:a 128k -movflags faststart output.mp4</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>Powershell: Convert files in the current folder for mobile upload</p><div class="codeBlockContainer_I0IT language-powershell theme-code-block"><div class="codeBlockContent_wNvx powershell"><pre tabindex="0" class="prism-code language-powershell codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">$files = Get-ChildItem</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">New-Item  -Name &quot;out&quot; -ItemType &quot;directory&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">foreach($file in $files) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    $file.Extension</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if ($file.Extension -cin (&#x27;.webm&#x27;, &#x27;.mp4&#x27;, &#x27;.mkv&#x27;)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        $fn = &#x27;&quot;out/&#x27; + $file.BaseName + &#x27;.mp4&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ffmpeg -i &quot;$file&quot; -c:v libx264 -c:a aac -movflags +faststart $fn</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="webcam-streaming">Webcam Streaming<a class="hash-link" href="#webcam-streaming" title="Direct link to heading">​</a></h2><p><a href="http://4youngpadawans.com/stream-camera-video-and-audio-with-ffmpeg/" target="_blank" rel="noopener noreferrer">Stream camera video and audio with FFmpeg</a></p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx bash"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">ffmpeg -list_devices </span><span class="token boolean" style="color:#36acaa">true</span><span class="token plain"> -f dshow -i dummy</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><blockquote><p>&quot;HD Pro Webcam C920&quot;
&quot;Microphone (TKGOU PnP USB Microphone)&quot;</p></blockquote><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx bash"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">ffmpeg -f dshow -i </span><span class="token assign-left variable" style="color:#36acaa">video</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;HD Pro Webcam C920&quot;</span><span class="token plain">:audio</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;Microphone (TKGOU PnP USB Microphone)&quot;</span><span class="token plain"> -profile:v high -pix_fmt yuvj420p -level:v </span><span class="token number" style="color:#36acaa">4.1</span><span class="token plain"> -preset ultrafast -tune zerolatency -vcodec libx264 -r </span><span class="token number" style="color:#36acaa">10</span><span class="token plain"> -b:v 512k -s 640x360 -acodec aac -ac </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> -ab 32k -ar </span><span class="token number" style="color:#36acaa">44100</span><span class="token plain"> -f mpegts -flush_packets </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> udp://192.168.1.101:5666?pkt_size</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">1316</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>VLC -&gt; Open Network Stream: <code>udp://@192.168.1.101:5666</code></p><h2 class="anchor anchorWithStickyNavbar_mojV" id="gopro-camera">GoPRO Camera<a class="hash-link" href="#gopro-camera" title="Direct link to heading">​</a></h2><p>Reddit Thread: <a href="https://www.reddit.com/r/Windows10/comments/j58y6f/no_longer_free_windows_10_hevc_video_extensions/" target="_blank" rel="noopener noreferrer">No longer free: Windows 10 HEVC Video Extensions from Device Manufacturer : Windows10</a>
workaround</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">start ms-windows-store://pdp/?ProductId=9n4wgh0z6vhq</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>Downscale 4K video example</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx bash"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">ffmpeg -i input.MP4 -c:v libx264 -crf </span><span class="token number" style="color:#36acaa">19</span><span class="token plain"> -preset slow -c:a aac -b:a 192k -ac </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> -vf </span><span class="token assign-left variable" style="color:#36acaa">scale</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">1920</span><span class="token plain">:1080 output_4k_to_1080p_converted.MP4</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>Convert h.264 to h.265 (no change in resolution)</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx bash"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">ffmpeg -i input.mp4 -c:v libx265 -vtag hvc1 -vf </span><span class="token assign-left variable" style="color:#36acaa">scale</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">1920</span><span class="token plain">:1080 -crf </span><span class="token number" style="color:#36acaa">20</span><span class="token plain"> -c:a copy output.mp4</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>crf:</p><ul><li><code>-crf 0</code> high-quality, low compression, large file</li><li><code>-crf 23</code> default</li><li><code>-crf 51</code> low-quality, high compression, small file</li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="gopro-tools-and-code">GoPro Tools and Code<a class="hash-link" href="#gopro-tools-and-code" title="Direct link to heading">​</a></h3><ul><li>(2021-12-26) <a href="https://gopro.com/en/us/news/gopro-video-metadata-open-source-explained" target="_blank" rel="noopener noreferrer">GoPro Open Sources Video Metadata</a></li><li>(2021-12-26) <a href="https://www.cgsecurity.org/wiki/TestDisk" target="_blank" rel="noopener noreferrer">TestDisk - CGSecurity</a> - Open source SD Card recovery tool</li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="tools--other">Tools / Other<a class="hash-link" href="#tools--other" title="Direct link to heading">​</a></h2><ul><li>(2021-09-26) <a href="https://github.com/jely2002/youtube-dl-gui" target="_blank" rel="noopener noreferrer">jely2002/youtube-dl-gui: A cross-platform GUI for youtube-dl made in Electron and node.js - open video downloader</a></li></ul></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/blog/2021/08/03/seattle"><div class="pagination-nav__sublabel">Newer Post</div><div class="pagination-nav__label">Seattle</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/blog/2021/07/25/lets-rock"><div class="pagination-nav__sublabel">Older Post</div><div class="pagination-nav__label">Let&#x27;s rock!</div></a></div></nav></main><div class="col col--2"><div class="tableOfContents_cNA8 thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#tools" class="table-of-contents__link toc-highlight">Tools</a></li><li><a href="#snippets" class="table-of-contents__link toc-highlight">Snippets</a></li><li><a href="#ffmpeg-convert-for-android" class="table-of-contents__link toc-highlight">FFmpeg: convert for android</a></li><li><a href="#webcam-streaming" class="table-of-contents__link toc-highlight">Webcam Streaming</a></li><li><a href="#gopro-camera" class="table-of-contents__link toc-highlight">GoPRO Camera</a><ul><li><a href="#gopro-tools-and-code" class="table-of-contents__link toc-highlight">GoPro Tools and Code</a></li></ul></li><li><a href="#tools--other" class="table-of-contents__link toc-highlight">Tools / Other</a></li></ul></div></div></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/intro">Wiki</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Please, remind me to put some good description here!
        Write an awesome description for your new site here. You can edit this
        line in _config.yml. It will appear in your document head meta (for
        Google search results) and in your feed.xml site description.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.20ed277c.js"></script>
<script src="/assets/js/main.6b0c69d0.js"></script>
</body>
</html>